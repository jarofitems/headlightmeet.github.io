<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/"><meta property="og:title" content="vue3学习"><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-03-12T06:32:52.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2023-03-12T06:32:52.000Z"><title>vue3学习 | </title><meta name="description" content="一个前端开发者">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.674c9492.css">
    <link rel="modulepreload" href="/assets/app.73ec3e73.js"><link rel="modulepreload" href="/assets/index.html.5734ddb9.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/index.html.4be585be.js"><link rel="prefetch" href="/assets/index.html.d58a9055.js"><link rel="prefetch" href="/assets/index.html.e1c5b110.js"><link rel="prefetch" href="/assets/uniapp常用操作.html.a901d5db.js"><link rel="prefetch" href="/assets/命令提示符.html.0e294c07.js"><link rel="prefetch" href="/assets/常用JS函数.html.84e6bf69.js"><link rel="prefetch" href="/assets/常用JS技巧.html.6429f8f1.js"><link rel="prefetch" href="/assets/收藏资料地址.html.1ba7ef1f.js"><link rel="prefetch" href="/assets/flutter升级到指定版本.html.48fd6a3d.js"><link rel="prefetch" href="/assets/flutter移动开发常用.html.c16cfdc7.js"><link rel="prefetch" href="/assets/index.html.5e9fa848.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制图形.html.a6417460.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制图片.html.c40787dd.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制文字.html.9dba6d78.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制路径.html.b42c5271.js"><link rel="prefetch" href="/assets/内置菜单showMenu.html.df1500d9.js"><link rel="prefetch" href="/assets/去掉标题左右图标.html.55972b92.js"><link rel="prefetch" href="/assets/常用快捷键.html.d39edf2f.js"><link rel="prefetch" href="/assets/底部导航栏tabbar.html.c2c35fd3.js"><link rel="prefetch" href="/assets/弹出菜单PopupMenuButton.html.19bb551b.js"><link rel="prefetch" href="/assets/状态栏颜色配置.html.d717411e.js"><link rel="prefetch" href="/assets/苹果手机底部横条.html.d1f43a89.js"><link rel="prefetch" href="/assets/认识CustomPaint组件和Paint对象.html.8381ae9b.js"><link rel="prefetch" href="/assets/设置AppBar导航栏高度.html.fbf3c60d.js"><link rel="prefetch" href="/assets/配置顶部导航搜索.html.57ad4fe9.js"><link rel="prefetch" href="/assets/顶部导航栏AppBar.html.3cfd60cd.js"><link rel="prefetch" href="/assets/顶部导航栏选项卡TabBar.html.d3a854bf.js"><link rel="prefetch" href="/assets/fluttertoast第三方提示.html.ea5f83df.js"><link rel="prefetch" href="/assets/flutter_screenutil屏幕适配.html.04b52914.js"><link rel="prefetch" href="/assets/Getx插件的使用.html.a8b8cf46.js"><link rel="prefetch" href="/assets/path_provider文件读写.html.dcecaac1.js"><link rel="prefetch" href="/assets/pin_code_fields密码框使用.html.4c614595.js"><link rel="prefetch" href="/assets/index.html.51bf5894.js"><link rel="prefetch" href="/assets/shared_preferences本地存储.html.b1f99a56.js"><link rel="prefetch" href="/assets/一键实现Flutter应用版本更新.html.9e250c48.js"><link rel="prefetch" href="/assets/轮播图插件.html.ce2d20e5.js"><link rel="prefetch" href="/assets/index.html.dd2ded30.js"><link rel="prefetch" href="/assets/代码格式化 copy.html.a5e4a856.js"><link rel="prefetch" href="/assets/热重载.html.01e16a93.js"><link rel="prefetch" href="/assets/版本升级与回退.html.aadda041.js"><link rel="prefetch" href="/assets/环境搭建.html.5cfdb6b1.js"><link rel="prefetch" href="/assets/编译卡在assembleDebug.html.05418cfe.js"><link rel="prefetch" href="/assets/HTTPHostAvailability.html.2d56216c.js"><link rel="prefetch" href="/assets/index.html.4256afea.js"><link rel="prefetch" href="/assets/软键盘禁止上推底部.html.de603874.js"><link rel="prefetch" href="/assets/mac下Git提交Github代码.html.cec5cfd0.js"><link rel="prefetch" href="/assets/mac安装Homebrew.html.b4b03114.js"><link rel="prefetch" href="/assets/index.html.1efc7d7a.js"><link rel="prefetch" href="/assets/Android插件.html.be3e019d.js"><link rel="prefetch" href="/assets/IDEA常用设置.html.1cc81c70.js"><link rel="prefetch" href="/assets/index.html.35d9dbf4.js"><link rel="prefetch" href="/assets/index.html.c8aced89.js"><link rel="prefetch" href="/assets/GCJ-02和WGS-84互转.html.3740810d.js"><link rel="prefetch" href="/assets/git提交提示权限问题.html.08385f40.js"><link rel="prefetch" href="/assets/index.html.0b049c6c.js"><link rel="prefetch" href="/assets/vscodo代码片段.html.348f0cb9.js"><link rel="prefetch" href="/assets/Vue3实用工具分享.html.a3da4ad8.js"><link rel="prefetch" href="/assets/windows下Git提交Github代码.html.b3b5d8a3.js"><link rel="prefetch" href="/assets/下载csdn中md文件教程.html.0a6a2a51.js"><link rel="prefetch" href="/assets/前端工具和网站收藏夹.html.184b7077.js"><link rel="prefetch" href="/assets/统计代码量.html.eab15341.js"><link rel="prefetch" href="/assets/CSS溢出隐藏.html.cc1bcfe1.js"><link rel="prefetch" href="/assets/Flex布局语法.html.7c34114f.js"><link rel="prefetch" href="/assets/Grid布局语法.html.7ee1fba7.js"><link rel="prefetch" href="/assets/index.html.07d8a781.js"><link rel="prefetch" href="/assets/SCSS语法.html.caed2f28.js"><link rel="prefetch" href="/assets/index.html.69e303c7.js"><link rel="prefetch" href="/assets/npm常用命令.html.b71e2a0c.js"><link rel="prefetch" href="/assets/nvm之node版本管理.html.aee95438.js"><link rel="prefetch" href="/assets/packageJson属性详解.html.d7685a58.js"><link rel="prefetch" href="/assets/index.html.2c1daffe.js"><link rel="prefetch" href="/assets/yaml语言教程.html.79145f24.js"><link rel="prefetch" href="/assets/il8n国际化.html.1d3267cc.js"><link rel="prefetch" href="/assets/index.html.1be03fdf.js"><link rel="prefetch" href="/assets/SEO配置.html.c6423292.js"><link rel="prefetch" href="/assets/多环境配置.html.a9eef283.js"><link rel="prefetch" href="/assets/封装接口请求及反向代理.html.dfd620fb.js"><link rel="prefetch" href="/assets/状态管理及cookie.html.f9b541b8.js"><link rel="prefetch" href="/assets/配置路由拦截.html.0bed349e.js"><link rel="prefetch" href="/assets/集成element-plus.html.588bebc8.js"><link rel="prefetch" href="/assets/JS获取和修改url参数.html.9c5b3c63.js"><link rel="prefetch" href="/assets/js随机打乱数组.html.8ee8c1ab.js"><link rel="prefetch" href="/assets/index.html.55b1d8b1.js"><link rel="prefetch" href="/assets/判断是否为移动端浏览器.html.53d2e1a2.js"><link rel="prefetch" href="/assets/比typeof运算符更准确的类型判断.html.04f9c094.js"><link rel="prefetch" href="/assets/app版本兼容弹框.html.78ec8015.js"><link rel="prefetch" href="/assets/filter过滤器.html.59b14250.js"><link rel="prefetch" href="/assets/H5跨域处理.html.77474368.js"><link rel="prefetch" href="/assets/ios端页面上下拉_阻止方法.html.00911c60.js"><link rel="prefetch" href="/assets/map地图的使用.html.309fac20.js"><link rel="prefetch" href="/assets/mixin全局混入.html.4ef9bdd4.js"><link rel="prefetch" href="/assets/nvue开发注意事项.html.9e432ce7.js"><link rel="prefetch" href="/assets/pinia状态管理使用.html.ab4a98ca.js"><link rel="prefetch" href="/assets/px与rpx相互转换.html.44fdf815.js"><link rel="prefetch" href="/assets/radio和checkbox样式调整.html.2573470c.js"><link rel="prefetch" href="/assets/index.html.2ff1c62a.js"><link rel="prefetch" href="/assets/scroll-view实现自定义下拉刷新.html.db6d834f.js"><link rel="prefetch" href="/assets/uniapp横向滚动.html.1ed0a397.js"><link rel="prefetch" href="/assets/vuex状态管理.html.f1fe7a54.js"><link rel="prefetch" href="/assets/web-view页面之间跳转、通信.html.e3a98daf.js"><link rel="prefetch" href="/assets/分包及分包优化.html.e5573352.js"><link rel="prefetch" href="/assets/判断IOS与Android定位权限.html.8d2361fd.js"><link rel="prefetch" href="/assets/动态修改导航栏标题.html.2eef4839.js"><link rel="prefetch" href="/assets/动态添加及修改导航栏.html.8f1ee58d.js"><link rel="prefetch" href="/assets/取消pages页面的默认返回按钮.html.4be82fe1.js"><link rel="prefetch" href="/assets/启动页_底部向上闪一下的问题.html.9214b93a.js"><link rel="prefetch" href="/assets/固定竖屏及获取设备信息.html.13601cb5.js"><link rel="prefetch" href="/assets/图片预览功能.html.52c61f16.js"><link rel="prefetch" href="/assets/地图定位功能.html.c2230462.js"><link rel="prefetch" href="/assets/处理IOS底部横条安全区域.html.09e8542e.js"><link rel="prefetch" href="/assets/安卓和IOS退出App的方法.html.20c46eeb.js"><link rel="prefetch" href="/assets/定义全局变量方法.html.d58ebe6c.js"><link rel="prefetch" href="/assets/小程序版本更新(uni-app).html.e0be284e.js"><link rel="prefetch" href="/assets/打apk包报病毒.html.388f122e.js"><link rel="prefetch" href="/assets/拦截器之可拦截tabbar切换.html.f888cb3d.js"><link rel="prefetch" href="/assets/接口封装请求.html.ccfa176f.js"><link rel="prefetch" href="/assets/旧版组件开发.html.ff04032c.js"><link rel="prefetch" href="/assets/添加顶部导航栏颜色渐变.html.a1283de0.js"><link rel="prefetch" href="/assets/界面拖动_去掉半圆形阴影.html.6d5e214d.js"><link rel="prefetch" href="/assets/禁止遮罩层下的页面滚动.html.c3e4fcde.js"><link rel="prefetch" href="/assets/组件之间传递参数.html.3f43b3bb.js"><link rel="prefetch" href="/assets/自定义返回和物理返回.html.278146fa.js"><link rel="prefetch" href="/assets/获取标签高度.html.6c4718d5.js"><link rel="prefetch" href="/assets/蓝牙开发步骤.html.00780670.js"><link rel="prefetch" href="/assets/覆盖原生tabbar遮罩.html.2dba4794.js"><link rel="prefetch" href="/assets/遮罩穿透问题.html.8b862b64.js"><link rel="prefetch" href="/assets/银行卡插件.html.0af5c559.js"><link rel="prefetch" href="/assets/防抖节流.html.73465171.js"><link rel="prefetch" href="/assets/限制输入表情.html.91954e6a.js"><link rel="prefetch" href="/assets/Element-Plus.html.83636c6f.js"><link rel="prefetch" href="/assets/elementplus常用.html.08daccc8.js"><link rel="prefetch" href="/assets/获取dom标签高度.html.eae26b8e.js"><link rel="prefetch" href="/assets/index.html.d043173a.js"><link rel="prefetch" href="/assets/微信小程序的电子签名及图片生成.html.d6adb74c.js"><link rel="prefetch" href="/assets/树形树状结构.html.20f8fedf.js"><link rel="prefetch" href="/assets/jar包启动与关闭.html.f5f74f72.js"><link rel="prefetch" href="/assets/index.html.f81d8f8f.js"><link rel="prefetch" href="/assets/Generator代码自动生成器.html.a9747796.js"><link rel="prefetch" href="/assets/Mybaits_plus.html.e4ce563d.js"><link rel="prefetch" href="/assets/mybatis-plus条件构造器.html.4722381a.js"><link rel="prefetch" href="/assets/mybatis_plus整合shiro.html.a9690522.js"><link rel="prefetch" href="/assets/index.html.ad8ab8c9.js"><link rel="prefetch" href="/assets/springboot实战.html.977f5f4b.js"><link rel="prefetch" href="/assets/idel配置vue启动.html.7ab14629.js"><link rel="prefetch" href="/assets/JWT的使用.html.7870c795.js"><link rel="prefetch" href="/assets/Lombok与@Slf4j.html.92c1678f.js"><link rel="prefetch" href="/assets/index.html.839173c7.js"><link rel="prefetch" href="/assets/Web请求静态资源.html.50a3d0ac.js"><link rel="prefetch" href="/assets/中文乱码问题.html.d0d657a3.js"><link rel="prefetch" href="/assets/全局拦截器.html.dc1fba83.js"><link rel="prefetch" href="/assets/定时任务实现.html.574d45ec.js"><link rel="prefetch" href="/assets/常用注解.html.c4075410.js"><link rel="prefetch" href="/assets/异步任务实现.html.ec270a09.js"><link rel="prefetch" href="/assets/自定义属性资源配置.html.b37a38d5.js"><link rel="prefetch" href="/assets/自定义异常页面.html.683a217f.js"><link rel="prefetch" href="/assets/解决跨域.html.62865a81.js"><link rel="prefetch" href="/assets/集成接口管理工具Knife4j.html.2b653211.js"><link rel="prefetch" href="/assets/404.html.dbf01389.js"><link rel="prefetch" href="/assets/index.html.51d89180.js"><link rel="prefetch" href="/assets/index.html.89258646.js"><link rel="prefetch" href="/assets/index.html.c1363ca0.js"><link rel="prefetch" href="/assets/index.html.b9115bc9.js"><link rel="prefetch" href="/assets/index.html.49718fa0.js"><link rel="prefetch" href="/assets/index.html.bde67858.js"><link rel="prefetch" href="/assets/index.html.dbd0757e.js"><link rel="prefetch" href="/assets/index.html.e5179a01.js"><link rel="prefetch" href="/assets/index.html.7c86aa3d.js"><link rel="prefetch" href="/assets/uniapp常用操作.html.e60e0b5c.js"><link rel="prefetch" href="/assets/命令提示符.html.aaa8e824.js"><link rel="prefetch" href="/assets/常用JS函数.html.17f698fb.js"><link rel="prefetch" href="/assets/常用JS技巧.html.cf713f8a.js"><link rel="prefetch" href="/assets/收藏资料地址.html.cf5dd827.js"><link rel="prefetch" href="/assets/flutter升级到指定版本.html.db8e6fac.js"><link rel="prefetch" href="/assets/flutter移动开发常用.html.597ca7ad.js"><link rel="prefetch" href="/assets/index.html.d3118301.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制图形.html.bb2502e5.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制图片.html.f4d2ed2a.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制文字.html.c8418508.js"><link rel="prefetch" href="/assets/使用CustomPaint绘制路径.html.ac8c6c95.js"><link rel="prefetch" href="/assets/内置菜单showMenu.html.ad26a70b.js"><link rel="prefetch" href="/assets/去掉标题左右图标.html.363e95ef.js"><link rel="prefetch" href="/assets/常用快捷键.html.e015d038.js"><link rel="prefetch" href="/assets/底部导航栏tabbar.html.5d03d3b1.js"><link rel="prefetch" href="/assets/弹出菜单PopupMenuButton.html.347d6ca0.js"><link rel="prefetch" href="/assets/状态栏颜色配置.html.1554fe94.js"><link rel="prefetch" href="/assets/苹果手机底部横条.html.08df8efb.js"><link rel="prefetch" href="/assets/认识CustomPaint组件和Paint对象.html.f0d48589.js"><link rel="prefetch" href="/assets/设置AppBar导航栏高度.html.10b31943.js"><link rel="prefetch" href="/assets/配置顶部导航搜索.html.fd29e7da.js"><link rel="prefetch" href="/assets/顶部导航栏AppBar.html.fd9cf434.js"><link rel="prefetch" href="/assets/顶部导航栏选项卡TabBar.html.4d037c08.js"><link rel="prefetch" href="/assets/fluttertoast第三方提示.html.c7dfc45c.js"><link rel="prefetch" href="/assets/flutter_screenutil屏幕适配.html.767625d7.js"><link rel="prefetch" href="/assets/Getx插件的使用.html.459b2e53.js"><link rel="prefetch" href="/assets/path_provider文件读写.html.bb6d7045.js"><link rel="prefetch" href="/assets/pin_code_fields密码框使用.html.ccd871b1.js"><link rel="prefetch" href="/assets/index.html.cd888aa7.js"><link rel="prefetch" href="/assets/shared_preferences本地存储.html.5683ab8e.js"><link rel="prefetch" href="/assets/一键实现Flutter应用版本更新.html.aa075829.js"><link rel="prefetch" href="/assets/轮播图插件.html.c9f603fa.js"><link rel="prefetch" href="/assets/index.html.55a07d04.js"><link rel="prefetch" href="/assets/代码格式化 copy.html.11f62110.js"><link rel="prefetch" href="/assets/热重载.html.b06e50e2.js"><link rel="prefetch" href="/assets/版本升级与回退.html.8771f9d6.js"><link rel="prefetch" href="/assets/环境搭建.html.d7669786.js"><link rel="prefetch" href="/assets/编译卡在assembleDebug.html.3cec9b59.js"><link rel="prefetch" href="/assets/HTTPHostAvailability.html.efcd16ae.js"><link rel="prefetch" href="/assets/index.html.e834eb55.js"><link rel="prefetch" href="/assets/软键盘禁止上推底部.html.e2e7b408.js"><link rel="prefetch" href="/assets/mac下Git提交Github代码.html.1f603bbd.js"><link rel="prefetch" href="/assets/mac安装Homebrew.html.b138a40a.js"><link rel="prefetch" href="/assets/index.html.dc87a2aa.js"><link rel="prefetch" href="/assets/Android插件.html.e6ede2ce.js"><link rel="prefetch" href="/assets/IDEA常用设置.html.76ea310b.js"><link rel="prefetch" href="/assets/index.html.a0855ee7.js"><link rel="prefetch" href="/assets/index.html.78c287a8.js"><link rel="prefetch" href="/assets/GCJ-02和WGS-84互转.html.f84c6897.js"><link rel="prefetch" href="/assets/git提交提示权限问题.html.f3ee339c.js"><link rel="prefetch" href="/assets/index.html.51f3d1b5.js"><link rel="prefetch" href="/assets/vscodo代码片段.html.2566a043.js"><link rel="prefetch" href="/assets/Vue3实用工具分享.html.f2af3075.js"><link rel="prefetch" href="/assets/windows下Git提交Github代码.html.f73cf72e.js"><link rel="prefetch" href="/assets/下载csdn中md文件教程.html.b07771e9.js"><link rel="prefetch" href="/assets/前端工具和网站收藏夹.html.d7793e5e.js"><link rel="prefetch" href="/assets/统计代码量.html.5202ec35.js"><link rel="prefetch" href="/assets/CSS溢出隐藏.html.1662e24c.js"><link rel="prefetch" href="/assets/Flex布局语法.html.429f4e2c.js"><link rel="prefetch" href="/assets/Grid布局语法.html.53362d18.js"><link rel="prefetch" href="/assets/index.html.e8636ad0.js"><link rel="prefetch" href="/assets/SCSS语法.html.745edeaa.js"><link rel="prefetch" href="/assets/index.html.3ab6712d.js"><link rel="prefetch" href="/assets/npm常用命令.html.35d54de4.js"><link rel="prefetch" href="/assets/nvm之node版本管理.html.0f873153.js"><link rel="prefetch" href="/assets/packageJson属性详解.html.9688ead0.js"><link rel="prefetch" href="/assets/index.html.0b419818.js"><link rel="prefetch" href="/assets/yaml语言教程.html.0a711600.js"><link rel="prefetch" href="/assets/il8n国际化.html.da2336c2.js"><link rel="prefetch" href="/assets/index.html.ddbac9cf.js"><link rel="prefetch" href="/assets/SEO配置.html.465f240a.js"><link rel="prefetch" href="/assets/多环境配置.html.18cd2e80.js"><link rel="prefetch" href="/assets/封装接口请求及反向代理.html.4fb26001.js"><link rel="prefetch" href="/assets/状态管理及cookie.html.06384156.js"><link rel="prefetch" href="/assets/配置路由拦截.html.ca01842a.js"><link rel="prefetch" href="/assets/集成element-plus.html.5a743ffa.js"><link rel="prefetch" href="/assets/JS获取和修改url参数.html.c3d9b53a.js"><link rel="prefetch" href="/assets/js随机打乱数组.html.a5e43f05.js"><link rel="prefetch" href="/assets/index.html.6ba3a7d1.js"><link rel="prefetch" href="/assets/判断是否为移动端浏览器.html.75892d68.js"><link rel="prefetch" href="/assets/比typeof运算符更准确的类型判断.html.e0a664e4.js"><link rel="prefetch" href="/assets/app版本兼容弹框.html.8dc58c7c.js"><link rel="prefetch" href="/assets/filter过滤器.html.3bb6ee58.js"><link rel="prefetch" href="/assets/H5跨域处理.html.7281c0da.js"><link rel="prefetch" href="/assets/ios端页面上下拉_阻止方法.html.6c2f160b.js"><link rel="prefetch" href="/assets/map地图的使用.html.e1715f66.js"><link rel="prefetch" href="/assets/mixin全局混入.html.a5875fbc.js"><link rel="prefetch" href="/assets/nvue开发注意事项.html.810966d7.js"><link rel="prefetch" href="/assets/pinia状态管理使用.html.e0e38a21.js"><link rel="prefetch" href="/assets/px与rpx相互转换.html.73167846.js"><link rel="prefetch" href="/assets/radio和checkbox样式调整.html.b338eeb5.js"><link rel="prefetch" href="/assets/index.html.24a20e30.js"><link rel="prefetch" href="/assets/scroll-view实现自定义下拉刷新.html.b5133355.js"><link rel="prefetch" href="/assets/uniapp横向滚动.html.d4716e82.js"><link rel="prefetch" href="/assets/vuex状态管理.html.6b7343c4.js"><link rel="prefetch" href="/assets/web-view页面之间跳转、通信.html.030f6499.js"><link rel="prefetch" href="/assets/分包及分包优化.html.cc478428.js"><link rel="prefetch" href="/assets/判断IOS与Android定位权限.html.c4f3cda4.js"><link rel="prefetch" href="/assets/动态修改导航栏标题.html.d63e434b.js"><link rel="prefetch" href="/assets/动态添加及修改导航栏.html.a79e68a4.js"><link rel="prefetch" href="/assets/取消pages页面的默认返回按钮.html.3feff200.js"><link rel="prefetch" href="/assets/启动页_底部向上闪一下的问题.html.9706f47c.js"><link rel="prefetch" href="/assets/固定竖屏及获取设备信息.html.67ac7074.js"><link rel="prefetch" href="/assets/图片预览功能.html.f0b24326.js"><link rel="prefetch" href="/assets/地图定位功能.html.4db187bd.js"><link rel="prefetch" href="/assets/处理IOS底部横条安全区域.html.42365eec.js"><link rel="prefetch" href="/assets/安卓和IOS退出App的方法.html.4b284f1f.js"><link rel="prefetch" href="/assets/定义全局变量方法.html.085ad288.js"><link rel="prefetch" href="/assets/小程序版本更新(uni-app).html.780d69d8.js"><link rel="prefetch" href="/assets/打apk包报病毒.html.987ffba9.js"><link rel="prefetch" href="/assets/拦截器之可拦截tabbar切换.html.576f5e39.js"><link rel="prefetch" href="/assets/接口封装请求.html.03d27f26.js"><link rel="prefetch" href="/assets/旧版组件开发.html.9fb6c222.js"><link rel="prefetch" href="/assets/添加顶部导航栏颜色渐变.html.6b47de9d.js"><link rel="prefetch" href="/assets/界面拖动_去掉半圆形阴影.html.b3b83bdb.js"><link rel="prefetch" href="/assets/禁止遮罩层下的页面滚动.html.9c5e0c0f.js"><link rel="prefetch" href="/assets/组件之间传递参数.html.518606d9.js"><link rel="prefetch" href="/assets/自定义返回和物理返回.html.6370bbd5.js"><link rel="prefetch" href="/assets/获取标签高度.html.86466562.js"><link rel="prefetch" href="/assets/蓝牙开发步骤.html.c8f0f452.js"><link rel="prefetch" href="/assets/覆盖原生tabbar遮罩.html.593d2665.js"><link rel="prefetch" href="/assets/遮罩穿透问题.html.e75ebb26.js"><link rel="prefetch" href="/assets/银行卡插件.html.1c3e1d74.js"><link rel="prefetch" href="/assets/防抖节流.html.661fb19f.js"><link rel="prefetch" href="/assets/限制输入表情.html.e8299d18.js"><link rel="prefetch" href="/assets/Element-Plus.html.fca78869.js"><link rel="prefetch" href="/assets/elementplus常用.html.44f2c3c7.js"><link rel="prefetch" href="/assets/获取dom标签高度.html.ffa34550.js"><link rel="prefetch" href="/assets/index.html.bf4c1b75.js"><link rel="prefetch" href="/assets/微信小程序的电子签名及图片生成.html.57a5c769.js"><link rel="prefetch" href="/assets/树形树状结构.html.3bc6b447.js"><link rel="prefetch" href="/assets/jar包启动与关闭.html.30b4af36.js"><link rel="prefetch" href="/assets/index.html.f15037db.js"><link rel="prefetch" href="/assets/Generator代码自动生成器.html.2754cc47.js"><link rel="prefetch" href="/assets/Mybaits_plus.html.2be2dcf4.js"><link rel="prefetch" href="/assets/mybatis-plus条件构造器.html.c16e7f2b.js"><link rel="prefetch" href="/assets/mybatis_plus整合shiro.html.b04c9dce.js"><link rel="prefetch" href="/assets/index.html.640155e4.js"><link rel="prefetch" href="/assets/springboot实战.html.eb5ca9ac.js"><link rel="prefetch" href="/assets/idel配置vue启动.html.e9b7385f.js"><link rel="prefetch" href="/assets/JWT的使用.html.b89c447f.js"><link rel="prefetch" href="/assets/Lombok与@Slf4j.html.1447de5e.js"><link rel="prefetch" href="/assets/index.html.0c1bd97a.js"><link rel="prefetch" href="/assets/Web请求静态资源.html.9f921fea.js"><link rel="prefetch" href="/assets/中文乱码问题.html.5bc07a83.js"><link rel="prefetch" href="/assets/全局拦截器.html.b0088bb6.js"><link rel="prefetch" href="/assets/定时任务实现.html.d5dafe7a.js"><link rel="prefetch" href="/assets/常用注解.html.e76bea5b.js"><link rel="prefetch" href="/assets/异步任务实现.html.f2c20ea1.js"><link rel="prefetch" href="/assets/自定义属性资源配置.html.bbcb37ea.js"><link rel="prefetch" href="/assets/自定义异常页面.html.f88a40ca.js"><link rel="prefetch" href="/assets/解决跨域.html.39475247.js"><link rel="prefetch" href="/assets/集成接口管理工具Knife4j.html.5fdc31ea.js"><link rel="prefetch" href="/assets/404.html.5a5f77e3.js"><link rel="prefetch" href="/assets/index.html.a8f553ff.js"><link rel="prefetch" href="/assets/index.html.a497da22.js"><link rel="prefetch" href="/assets/index.html.b2aeecea.js"><link rel="prefetch" href="/assets/index.html.a3620981.js"><link rel="prefetch" href="/assets/index.html.ef07ead1.js"><link rel="prefetch" href="/assets/index.html.90567fc8.js"><link rel="prefetch" href="/assets/index.html.4838edc2.js"><link rel="prefetch" href="/assets/404.3dc9ddd0.js"><link rel="prefetch" href="/assets/Layout.bb422866.js"><link rel="prefetch" href="/assets/Slide.7ae26c7c.js"><link rel="prefetch" href="/assets/Blog.4781fa81.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.092fbc15.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.png" alt><!----><!----></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E5%B8%B8%E7%94%A8/" class="nav-link" aria-label="常用"><!---->常用<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title"><!---->前端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/uniapp%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="uniapp教程"><!---->uniapp教程<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/" class="router-link-active router-link-exact-active nav-link active" aria-label="vue3教程"><!---->vue3教程<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/Nuxt3%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="Nuxt3教程"><!---->Nuxt3教程<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" class="nav-link" aria-label="微信小程序"><!---->微信小程序<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/node%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="node教程"><!---->node教程<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/JavaScript%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="JavaScript教程"><!---->JavaScript教程<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/CSS%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="CSS教程"><!---->CSS教程<!----></a></li><li class="dropdown-item"><a href="/%E5%89%8D%E7%AB%AF/HTML%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="HTML教程"><!---->HTML教程<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="后端"><span class="title"><!---->后端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/%E5%90%8E%E7%AB%AF/java%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="java教程"><!---->java教程<!----></a></li><li class="dropdown-item"><a href="/%E5%90%8E%E7%AB%AF/Mybatis%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="Mybatis教程"><!---->Mybatis教程<!----></a></li><li class="dropdown-item"><a href="/%E5%90%8E%E7%AB%AF/SpringBoot%E6%95%99%E7%A8%8B/" class="nav-link" aria-label="SpringBoot教程"><!---->SpringBoot教程<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Flutter教程"><span class="title"><!---->Flutter教程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/flutter%E6%95%99%E7%A8%8B/%E5%8A%9F%E8%83%BD%E4%BD%BF%E7%94%A8/" class="nav-link" aria-label="功能使用"><!---->功能使用<!----></a></li><li class="dropdown-item"><a href="/flutter%E6%95%99%E7%A8%8B/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="nav-link" aria-label="环境搭建"><!---->环境搭建<!----></a></li><li class="dropdown-item"><a href="/flutter%E6%95%99%E7%A8%8B/%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8/" class="nav-link" aria-label="插件使用"><!---->插件使用<!----></a></li><li class="dropdown-item"><a href="/flutter%E6%95%99%E7%A8%8B/%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94/" class="nav-link" aria-label="问题解答"><!---->问题解答<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其它"><span class="title"><!---->其它</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/%E5%85%B6%E5%AE%83/%E8%AF%81%E4%B9%A6/" class="nav-link" aria-label="证书"><!---->证书<!----></a></li><li class="dropdown-item"><a href="/%E5%85%B6%E5%AE%83/%E5%B7%A5%E5%85%B7%E6%8F%92%E4%BB%B6/" class="nav-link" aria-label="工具插件"><!---->工具插件<!----></a></li><li class="dropdown-item"><a href="/%E5%85%B6%E5%AE%83/%E6%8A%80%E5%B7%A7/" class="nav-link" aria-label="技巧"><!---->技巧<!----></a></li><li class="dropdown-item"><a href="/%E5%85%B6%E5%AE%83/MAC%E4%B8%93%E5%8C%BA/" class="nav-link" aria-label="MAC专区"><!---->MAC专区<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="vue3学习"><!---->vue3学习<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#生命周期" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="生命周期"><!---->生命周期<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是生命周期" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是生命周期"><!---->什么是生命周期<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#vue3-的生命周期" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Vue3 的生命周期"><!---->Vue3 的生命周期<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#vue2-和vue3-生命周期对比" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="vue2 和vue3 生命周期对比"><!---->vue2 和vue3 生命周期对比<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#onrendertracked-状态跟踪" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="onRenderTracked 状态跟踪"><!---->onRenderTracked 状态跟踪<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#onrendertriggered-状态触发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="onRenderTriggered 状态触发"><!---->onRenderTriggered 状态触发<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#环境配置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境配置"><!---->环境配置<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#模板语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="模板语法"><!---->模板语法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#指令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="指令"><!---->指令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive全家桶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="reactive全家桶"><!---->reactive全家桶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是reactive" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是reactive?"><!---->什么是reactive?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive注意点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="reactive注意点"><!---->reactive注意点<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive-基础用法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="reactive 基础用法"><!---->reactive 基础用法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#数组异步赋值问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数组异步赋值问题"><!---->数组异步赋值问题<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref全家桶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ref全家桶"><!---->ref全家桶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是ref" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是ref?"><!---->什么是ref?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref本质" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ref本质"><!---->ref本质<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref注意点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ref注意点"><!---->ref注意点<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例"><!---->案例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#toref" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="toRef"><!---->toRef<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#torefs-可批量创建响应式数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="toRefs 可批量创建响应式数据"><!---->toRefs 可批量创建响应式数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#toraw-将响应式对象转化为普通对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="toRaw 将响应式对象转化为普通对象"><!---->toRaw 将响应式对象转化为普通对象<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#markraw包裹之后的对象-不会转化为响应式数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="markRaw包裹之后的对象，不会转化为响应式数据"><!---->markRaw包裹之后的对象，不会转化为响应式数据<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#computed计算属性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="computed计算属性"><!---->computed计算属性<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watch侦听器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watch侦听器"><!---->watch侦听器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect高级侦听器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watchEffect高级侦听器"><!---->watchEffect高级侦听器<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect函特性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watchEffect函特性："><!---->watchEffect函特性：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watchEffect使用"><!---->watchEffect使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#清除副作用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="清除副作用"><!---->清除副作用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#副作用刷新时机-flush-一般使用post" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="副作用刷新时机 flush 一般使用post"><!---->副作用刷新时机 flush 一般使用post<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#父子组件传参" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="父子组件传参"><!---->父子组件传参<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#父组件给子组件传参" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="父组件给子组件传参"><!---->父组件给子组件传参<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#子组件给父组件传参" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="子组件给父组件传参"><!---->子组件给父组件传参<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#子组件暴露给父组件内部属性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="子组件暴露给父组件内部属性"><!---->子组件暴露给父组件内部属性<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#兄弟组件传参和bus" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="兄弟组件传参和Bus"><!---->兄弟组件传参和Bus<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#mitt发布订阅模式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mitt发布订阅模式"><!---->Mitt发布订阅模式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#全局组件-局部组件-递归组件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="全局组件，局部组件，递归组件"><!---->全局组件，局部组件，递归组件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#全局组件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="全局组件"><!---->全局组件<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#局部组件和递归组件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="局部组件和递归组件"><!---->局部组件和递归组件<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#插槽slot" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="插槽slot"><!---->插槽slot<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport传送组件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Teleport传送组件"><!---->Teleport传送组件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport-是什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Teleport 是什么"><!---->Teleport 是什么<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport-怎么使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Teleport 怎么使用"><!---->Teleport 怎么使用<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#fragment" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Fragment"><!---->Fragment<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#suspense" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Suspense"><!---->Suspense<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#缓存组件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="缓存组件"><!---->缓存组件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#路由配置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="路由配置"><!---->路由配置<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#hooks使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="hooks使用"><!---->hooks使用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#一、计数器的hook" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一、计数器的hook"><!---->一、计数器的hook<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#定义全局函数和变量" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="定义全局函数和变量"><!---->定义全局函数和变量<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia的使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="pinia的使用"><!---->pinia的使用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="pinia介绍"><!---->pinia介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia特点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="pinia特点"><!---->pinia特点<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#安装" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装"><!---->安装<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#main文件引入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="main文件引入"><!---->main文件引入<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#新建store文件夹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="新建Store文件夹"><!---->新建Store文件夹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#页面中使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="页面中使用"><!---->页面中使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#定义actions" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="定义Actions"><!---->定义Actions<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#解构store" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="解构store"><!---->解构store<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#actions-getters" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Actions，getters"><!---->Actions，getters<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#api" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="API"><!---->API<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#存储状态并持久化存储" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储状态并持久化存储"><!---->存储状态并持久化存储<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/%E8%8E%B7%E5%8F%96dom%E6%A0%87%E7%AD%BE%E9%AB%98%E5%BA%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="获取dom标签高度"><!---->获取dom标签高度<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/Element-Plus.html" class="nav-link sidebar-link sidebar-page" aria-label="Element-Plus项目搭建"><!---->Element-Plus项目搭建<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/elementplus%E5%B8%B8%E7%94%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="elementplus常用"><!---->elementplus常用<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->vue3学习</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2023年3月12日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">向前有光</span></span><span property="author" content="向前有光"></span></span><!----><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#生命周期" class="router-link-active router-link-exact-active toc-link level2">生命周期</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是生命周期" class="router-link-active router-link-exact-active toc-link level3">什么是生命周期</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#vue3-的生命周期" class="router-link-active router-link-exact-active toc-link level3">Vue3 的生命周期</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#vue2-和vue3-生命周期对比" class="router-link-active router-link-exact-active toc-link level3">vue2 和vue3 生命周期对比</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#onrendertracked-状态跟踪" class="router-link-active router-link-exact-active toc-link level3">onRenderTracked 状态跟踪</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#onrendertriggered-状态触发" class="router-link-active router-link-exact-active toc-link level3">onRenderTriggered 状态触发</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#环境配置" class="router-link-active router-link-exact-active toc-link level2">环境配置</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#模板语法" class="router-link-active router-link-exact-active toc-link level2">模板语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#指令" class="router-link-active router-link-exact-active toc-link level2">指令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive全家桶" class="router-link-active router-link-exact-active toc-link level2">reactive全家桶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是reactive" class="router-link-active router-link-exact-active toc-link level3">什么是reactive?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive注意点" class="router-link-active router-link-exact-active toc-link level3">reactive注意点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#reactive-基础用法" class="router-link-active router-link-exact-active toc-link level3">reactive 基础用法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#数组异步赋值问题" class="router-link-active router-link-exact-active toc-link level3">数组异步赋值问题</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref全家桶" class="router-link-active router-link-exact-active toc-link level2">ref全家桶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#什么是ref" class="router-link-active router-link-exact-active toc-link level3">什么是ref?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref本质" class="router-link-active router-link-exact-active toc-link level3">ref本质</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#ref注意点" class="router-link-active router-link-exact-active toc-link level3">ref注意点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#案例" class="router-link-active router-link-exact-active toc-link level3">案例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#toref" class="router-link-active router-link-exact-active toc-link level3">toRef</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#torefs-可批量创建响应式数据" class="router-link-active router-link-exact-active toc-link level3">toRefs 可批量创建响应式数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#toraw-将响应式对象转化为普通对象" class="router-link-active router-link-exact-active toc-link level3">toRaw 将响应式对象转化为普通对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#markraw包裹之后的对象-不会转化为响应式数据" class="router-link-active router-link-exact-active toc-link level3">markRaw包裹之后的对象，不会转化为响应式数据</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#computed计算属性" class="router-link-active router-link-exact-active toc-link level2">computed计算属性</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watch侦听器" class="router-link-active router-link-exact-active toc-link level2">watch侦听器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect高级侦听器" class="router-link-active router-link-exact-active toc-link level2">watchEffect高级侦听器</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect函特性" class="router-link-active router-link-exact-active toc-link level3">watchEffect函特性：</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#watcheffect使用" class="router-link-active router-link-exact-active toc-link level3">watchEffect使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#清除副作用" class="router-link-active router-link-exact-active toc-link level3">清除副作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#副作用刷新时机-flush-一般使用post" class="router-link-active router-link-exact-active toc-link level3">副作用刷新时机 flush 一般使用post</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#父子组件传参" class="router-link-active router-link-exact-active toc-link level2">父子组件传参</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#父组件给子组件传参" class="router-link-active router-link-exact-active toc-link level3">父组件给子组件传参</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#子组件给父组件传参" class="router-link-active router-link-exact-active toc-link level3">子组件给父组件传参</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#子组件暴露给父组件内部属性" class="router-link-active router-link-exact-active toc-link level3">子组件暴露给父组件内部属性</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#兄弟组件传参和bus" class="router-link-active router-link-exact-active toc-link level2">兄弟组件传参和Bus</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#mitt发布订阅模式" class="router-link-active router-link-exact-active toc-link level2">Mitt发布订阅模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#全局组件-局部组件-递归组件" class="router-link-active router-link-exact-active toc-link level2">全局组件，局部组件，递归组件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#全局组件" class="router-link-active router-link-exact-active toc-link level3">全局组件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#局部组件和递归组件" class="router-link-active router-link-exact-active toc-link level3">局部组件和递归组件</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#插槽slot" class="router-link-active router-link-exact-active toc-link level2">插槽slot</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport传送组件" class="router-link-active router-link-exact-active toc-link level2">Teleport传送组件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport-是什么" class="router-link-active router-link-exact-active toc-link level3">Teleport 是什么</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#teleport-怎么使用" class="router-link-active router-link-exact-active toc-link level3">Teleport 怎么使用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#fragment" class="router-link-active router-link-exact-active toc-link level2">Fragment</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#suspense" class="router-link-active router-link-exact-active toc-link level2">Suspense</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#缓存组件" class="router-link-active router-link-exact-active toc-link level2">缓存组件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#路由配置" class="router-link-active router-link-exact-active toc-link level3">路由配置</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#hooks使用" class="router-link-active router-link-exact-active toc-link level2">hooks使用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#一、计数器的hook" class="router-link-active router-link-exact-active toc-link level3">一、计数器的hook</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#定义全局函数和变量" class="router-link-active router-link-exact-active toc-link level2">定义全局函数和变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia的使用" class="router-link-active router-link-exact-active toc-link level2">pinia的使用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia介绍" class="router-link-active router-link-exact-active toc-link level3">pinia介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#pinia特点" class="router-link-active router-link-exact-active toc-link level3">pinia特点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#安装" class="router-link-active router-link-exact-active toc-link level3">安装</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#main文件引入" class="router-link-active router-link-exact-active toc-link level3">main文件引入</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#新建store文件夹" class="router-link-active router-link-exact-active toc-link level3">新建Store文件夹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#页面中使用" class="router-link-active router-link-exact-active toc-link level3">页面中使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#定义actions" class="router-link-active router-link-exact-active toc-link level3">定义Actions</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#解构store" class="router-link-active router-link-exact-active toc-link level3">解构store</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#actions-getters" class="router-link-active router-link-exact-active toc-link level3">Actions，getters</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#api" class="router-link-active router-link-exact-active toc-link level3">API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/#存储状态并持久化存储" class="router-link-active router-link-exact-active toc-link level3">存储状态并持久化存储</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="vue3学习" tabindex="-1"><a class="header-anchor" href="#vue3学习" aria-hidden="true">#</a> vue3学习</h1><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><h3 id="什么是生命周期" tabindex="-1"><a class="header-anchor" href="#什么是生命周期" aria-hidden="true">#</a> 什么是生命周期</h3><p>Vue 是组件化编程，从一个组件诞生到消亡，会经历很多过程，这些过程就叫做生命周期。 你理解了什么是生命周期，你还了解一个概念“钩子函数”。 钩子函数： 伴随着生命周期，给用户使用的函数，操控生命周期，主要是操控钩子函数。</p><h3 id="vue3-的生命周期" tabindex="-1"><a class="header-anchor" href="#vue3-的生命周期" aria-hidden="true">#</a> Vue3 的生命周期</h3><ul><li>setup() :开始创建组件之前，在beforeCreate和created之前执行。创建的是data和method</li><li>onBeforeMount() : 组件挂载到节点上之前执行的函数。</li><li>onMounted() : 组件挂载完成后执行的函数。</li><li>onBeforeUpdate(): 组件更新之前执行的函数。</li><li>onUpdated(): 组件更新完成之后执行的函数。</li><li>onBeforeUnmount(): 组件卸载之前执行的函数。</li><li>onUnmounted(): 组件卸载完成后执行的函数</li><li>onActivated(): 被包含在中的组件，会多出两个生命周期钩子函数。被激活时执行。</li><li>onDeactivated(): 比如从 A 组件，切换到 B 组件，A 组件消失时执行。</li><li>onErrorCaptured(): 当捕获一个来自子孙组件的异常时激活钩子函数（以后用到再讲，不好展现）。</li></ul><h3 id="vue2-和vue3-生命周期对比" tabindex="-1"><a class="header-anchor" href="#vue2-和vue3-生命周期对比" aria-hidden="true">#</a> vue2 和vue3 生命周期对比</h3><p>那我到底是使用Vue2.x还是Vue3.x的生命周期钩子函数？其实这个无所谓，但是不愿混用，如果你用 setup 这种Vue3的生命周期函数，就不要再使用Vue2的了。为了你更好的掌握，我作了一个函数对比：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>Vue2--------------vue3

beforeCreate -&gt; setup()
created -&gt; setup()
beforeMount -&gt; onBeforeMount
mounted -&gt; onMounted
beforeUpdate -&gt; onBeforeUpdate
updated -&gt; onUpdated
beforeDestroy -&gt; onBeforeUnmount
destroyed -&gt; onUnmounted
activated -&gt; onActivated
deactivated -&gt; onDeactivated
errorCaptured -&gt; onErrorCaptured
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="onrendertracked-状态跟踪" tabindex="-1"><a class="header-anchor" href="#onrendertracked-状态跟踪" aria-hidden="true">#</a> onRenderTracked 状态跟踪</h3><p><strong>onRenderTracked</strong>直译过来就是状态跟踪，它会跟踪页面上所有响应式变量和方法的状态，也就是我们用return返回去的值，它都会跟踪。只要页面有update的情况，它就会跟踪，然后生成一个event对象，我们通过event对象来查找程序的问题所在。</p><p>使用<strong>onRenderTracked</strong>同样要使用import进行引入。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>import { .... ,onRenderTracked,} from &quot;vue&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>引用后就可以在setup()函数中进行引用了。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>onRenderTracked((event) =&gt; {
    console.log(&quot;状态跟踪组件-----------&gt;&quot;);
    console.log(event);
});
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>写完后可以到终端中启动测试服务npm run serve，然后看一下效果，在组件没有更新的时候<strong>onRenderTracked</strong>是不会执行的，组件更新时，它会跟组里边每个值和方法的变化。</p><h3 id="onrendertriggered-状态触发" tabindex="-1"><a class="header-anchor" href="#onrendertriggered-状态触发" aria-hidden="true">#</a> onRenderTriggered 状态触发</h3><p><strong>onRenderTriggered</strong>直译过来是状态触发，它不会跟踪每一个值，而是给你变化值的信息，并且新值和旧值都会给你明确的展示出来。</p><p>如果把<strong>onRenderTracked</strong>比喻成散弹枪，每个值都进行跟踪，那<strong>onRenderTriggered</strong>就是狙击枪，只精确跟踪发生变化的值，进行针对性调试。</p><p>使用它同样要先用import进行引入</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>import { .... ,onRenderTriggered,} from &quot;vue&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在使用<strong>onRenderTriggered</strong>前，记得注释相应的<strong>onRenderTracked</strong>代码，这样看起来会直观很多。 然后把<strong>onRenderTriggered</strong>()函数，写在setup()函数里边。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>onRenderTriggered((event) =&gt; {
    console.log(&quot;状态触发组件---------------&gt;&quot;);
    console.log(event);
});
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对 event 对象属性的详细介绍：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>- key 那边变量发生了变化
- newValue 更新后变量的值
- oldValue 更新前变量的值
- target 目前页面中的响应变量和函数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="环境配置" tabindex="-1"><a class="header-anchor" href="#环境配置" aria-hidden="true">#</a> 环境配置</h2><p><a href="http://nodejs.cn/download/current/" target="_blank" rel="noopener noreferrer">下载 | Node.js 中文网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>装完之后会有一个命令叫 npm</p><p><strong>注意：最好安装14的版本，版本太高有些不稳定</strong></p><p>可以在终端输入npm -v 来检查是否安装成功</p><img src="data:image/png;base64,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" alt="solar"><p>官方文档 <a href="https://vitejs.cn/guide/#overview" target="_blank" rel="noopener noreferrer">开始 {#getting-started} | Vite中文网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>vite 的优势</p><p>冷服务默认的构建目标浏览器是能 <a href="https://caniuse.com/es6-module" target="_blank" rel="noopener noreferrer">在 script 标签上支持原生 ESM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和 <a href="https://caniuse.com/es6-module-dynamic-import" target="_blank" rel="noopener noreferrer">原生 ESM 动态导入<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>HMR 速度快到惊人的 <a href="https://vitejs.cn/guide/features.html#hot-module-replacement" target="_blank" rel="noopener noreferrer">模块热更新（HMR）<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Rollup打包 它使用 <a href="https://rollupjs.org/" target="_blank" rel="noopener noreferrer">Rollup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>打包你的代码，并且它是预配置的 并且支持大部分rollup插件</p><p>使用vite初始化一个项目</p><p>npm</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm init vite<span class="token annotation punctuation">@latest</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>yarn</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>yarn create vite
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行之后</p><p>项目名称</p><img src="/assets/bk266.465bd6b9.png" alt="solar"><p>构建的项目模板</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAHgCAMAAABdO/S2AAAAeFBMVEUMDAzMzMztHCR2dnbz8/PBnAA6lt3FDx+IF5gToQ7nSFYSDA1MEBPBGB86DxEpDg/mGyNfEhWpFx1DDxGaFht1ExdWERPLGSAfDQ6EFBnZGiHSGiG4GB6SFRpoEhUYDA2hFhvgGyKxFx0yDhCLFBl9FBjqGyNvExY5suddAAAOXUlEQVR42uyci5KjIAAE6f//6buySqcYJJhsMOxm+vaUdzS1rYCyZWXQXkkhhKUB2FTliC8oMLDOwYSwDuxbdk0WvQMvdTDhOwEKsIXe016hqL0fCzx0RolgyaeV2Tj2KufXCmXjcSJwWAUo+j2+TrcG27/zXHhdYEQjmiqINg6yeN8rTDvaVl5TLwKHRYBn1XVDOBG4wzMCA+zamoQG1cYTBRaQmAOBCxE4LMqPBC6TBNbWJKMwSeASgcNvZBcYOFKox8Zo8Kg4tneBNcA8rQ/7JwNwq8DURcAzvJPhxmcMHJZBd2Dq2xIM7kCDO/C+5ay+VHDRVA9MYB3QOwWmCgn7KlQRMgsdlqERThnayZuxwLogjLqiPPCxoB9Mpx8KTBXFc7w8oKK5A4fFuCpwARgLLOGGAoPaHQhsmk4SeDwgLhkDh8W4KvAGbxVYNekLrLimpJkgsJVvw5QIHNbDBLae6sUxMNcEpvP8dSiwy+di2mdY3AW2qJ2fi0qeA4d1geKTwXhUs80eP9owgZUP2uiDKsGg6yNqT3kGOjBtq7iXs7b8vFR8z1A8b2KFMACwSa4sZgjhd1H1uAvrCRxCWAOKAZ5g5XhUPYPkcBtZMr+dMpwO8etRMtATGLw8X/pdhk+w7pLbW6D3SJjWXmpU8ghBXtUKt8LjKPgrhEqfta5YJrzM5cr0Hgkr0L/GucDaE4HDkPkC0zwrBaXPXFf8n88IXLguMBsROHwO+gmdFxi0mbeu+HWBeV70qkO8+Yg90KYIVNy8j8DhEn9N4EEvdbLAey1F/WyR4iqKV0ByQwQOs3GBoGOAC6y0aeuKUahqBw7jrP22+bp+AQYzWC0S2I1VFF8mRe7A4UbQDiWI3ngQJq4rRgFrBzXt7fNosQL9S1M9qSxOBaZYNipyFIjA4S7c2uFyPW2Ztq7YBe60U0sJ49VGhkrQOTCNgf0UHghciMBhyHyBPd+DvLiueIbAUK4JDOd9ZB5eruz/uc9KQTl5ZzpMxV3EcwcCz1lX3Io6Th8LrLBAP1tUuMDdWejTc8tsdJiO/4qOngO7wNPWFau6i4qnqzZH6DmB/bN80x5oE9XZ53lwuAk3GJOyXRfrs8gz1xXX9VRNx+HtK6f9HG3aLjSS7WWBaWqXdKHDJb5rMQOTWuSICss0YymDzvvy32UIdwOUyQIrwwL0KlDl5K9Whn/swYEAAAAAAJD/ayOoqqqqqqqqqqqqqqqqqqrC3pnoRgjDQJT5/5+uSEktjxOMy1HUnSdVXbI+ErQjsocYIYQQQrwEvCx+5bPti4Wo+PD6W0qeVxTXgHW9RcGzwkBSrroO1OJtXLfMEifIfHjB43VBAamAF0xTE1BbTy6oZwWM/qe7zYq3CjiO5fVjKi4SMIOHN/WgI2A8SehNgyiDeMlATcAclAuoJuC8eLk/gQcFvIpXAhYPChgrYz9eIPjk9nF88zPc06h+9A3uKcFZwc+v9eiDNj9alMXR9EK8hVk1C1h4Hb5eoV8UsF9+PB/QZlsUL59zLyP2+/Xx8HmwkS6ypL4lxTgM7AIT98HU9Mwr2PrQVFweYnKhHwmY43k9ugKL+v4Pu36+4EQLGQg4syeNfXJ/X+wIuIGigGOdHQEvVwq4gaGAtYUW5wVMJmRsskmXpl8JuOH65AJewbhOVPDEGaVhA1cIOO/HAmZfYzofErDIGDoS7jl/YvqV0EEBc5xhSXMB21iyU8gERYu4UcB0NDEe5nlpCy1y+F0qCywz2nbxQH98TMDchzP8OEaSsH5cx0D4H9fDfUoCLvSjfGsZ42QwLA4xsOfFzM+XDuHjl56wPUkfRlurHd9gABbm5kHzM+Vtjd085z/9inUb1txWAdeT1uHqFfqF82pdBs/LYFj8kx9EI8t/rf+wEAl//iq+X8AASvnYeIH/sPhi79x2G4SBIMpqJST+/4ebruyOGLplE1SLyxy12ICNnYcjCGGEGMUyCSEuiwQW4rrIXyEuzIKqBRNxhruildHPOG8h/pll+wzBCUWQwEJUBT7zDzB2suMIMRj2d6zAZucQTwKLW/CbwJT/5QAr1re52N4Ou1GrCvxmrhfPNVXnrbytuAvwlwXZhgmyTB+Ibr0fqoamJeqxQAv6dCvzVlhA3AkWGJVamgg1bm8DBG7shC6UtxV3ZIG/dYGDgsBm6zNwMNWo52zrAn8jgcWNWKblTYFR3RE4uYQuUs/Z1gTGZgksbsPSFH5X4CTUywJnl9CxGbj/VtZzth3Dtp15K28rbgP5yzd7e43zwhwopv5tEX+9QL+CwOWcLYgxSvNW3lY8EDv5RadddN5CDOHkP5ua2SXnLYQQQgghhBBiBPOLzTOUl33Y393bYjAYf/Do7pN4MHMs8hSSHcvfDu/rsRigx5jxGXcJLCoCA/v8tZpHDM798JECHRfYqz0PtpLIj2SeWWBwVOAjWHIydgksgQVJvDGHXq5VydHSKr1pIcsF4wUI1H71auG6wRDIX/SSvqW2Jf7Rzr394Xi0H4somNjcK1hvdYwZRd6Pd/T+0081iEpvpovphzKjCmFosZ//5S0QPw81RIF1frFS5SLaAxaYS+7ebWgl2nnv5QF25ccF2EULVDEefQ5ql3+eVsfUXGfgh0MCk6P199YaC4wiywVjhVNEsZGBeLtnYKd1OsKqAfXzlUAkFmnztsAYry7wVmQJLDKBu1gBhQhIYNY3FzjNBUeNBeYr8k8voaMI1vr+KXBvENAlahe4b0jGx7gHBe7jSGBRID/TFvO/ucB5LthanQWORqkgOSynZ/1zgdf+sFP0BZlxmuMBgYFLYJEyz4nAWNTyv5YLnOSCsWErMEa2gr/178A7l9AsvW+kR3ccLB9/pdqOwMl80X/vO7DrZ+EHQgIn77HdzdGaYUPvh+55LthWOV3DsHQXuoq/+PuubvxRs96OBOa71LALB6DRYRqizThSkDwxxvPFOOiPu9D4GBhHz3UI0dDvrULcD53hvtixG9YGYSCM40fghNDWtuuLtJvTrcx9/2+4EeJLFWvHRhbp/4d3Fz/AQ44AAAAAwANS9Yd2ApgLH2BtJgEGZogbGJgxAgzESlVdSdPb30GA2aWByGi//MG3wVTuYiAe6qvN7niAPa5gIBoqWsfyrgCrcgMD0VAf16ZYoYEZaYKpdwWYFRqISbsau0/rp2l37E13IMEAAAAAAAAAAC8RAPNFgoE5++MEX5YCYFy8CV5v92dDgIEJwRJsrfUlUjc3BopjnplvpQCYEC7Bbbnm57XF7rSqjLNZC4CQEvlNgNPD+8Y0DgIgpERusWKlG2BHvPVr+Wa6soUACCiRHwVYuo5nc+15fzheCDEQSiITbNPtcIUucjNUZU+nbVoIgL7Q+RXbfY8evkLvMjPi/JJ/LnnTAqK2OFXmhs2q/NimbNXAP7AjpCv9YufullOFoTAMZzwwDoqoVLetv6W6e/93uGGJs0YZYQ/YdqW8z1gS4/E3xI+aeNBok5326doBMGf8ORuIePK5y94GD73HlFyAPUk2KMwkm4fp/HXxp8w0JRcQgLk8EE51YZxMli/bfJWSC7BvfcxDuawup/vTYlNfcq0ouYAfN9kMFg8+Gn+szsd4VlNyLSi5gB8w1Onh9O5qJXnJta0rubYvy0nC7Rj4ehpgNV27elpy/X28q6bkAp5iOBzKn8yG1xWhy0PXxvgjL7niupIro+QCOirieXmVo8510oqWXFltyfVy5tEx0GWHrFmVSOuyzroZTym5APX0AAuZuC4B7lZyvVFyAa0CrG+/KMBq3VhyHSm5gBZbaHmV85vFJ9JHx/Ul1ybb7Sm5gBpaMmsL7Sp1tGuve8nF7yMA6w7TuZRctb+PoOQCTEsmy4aSa7dkVw2Ytk4bSq74eKbkAky7lFwzDgEBApZM9rtswyEgQMCK30ccOQQECBmHgABtjZwVHAICBBxgPQSEkgv9NhrlLxnzSTmTQd4JXbYWYZFw0i16rEjlSCcyv44yl4nFO7DSQ0AoudAzGtKb93KVZbNbaEouoBpgIRMXXIApudA3lQDrerAB5hAQ9IZ+B74JtLzuvgOHl2FOusVvpy10Md600O6ujrbZQuc46Ra9FXAoWz065qRb/CZGH+424aRboOfG03lTyfVKyQXY9h8n3c4dAMvqDwGJ2U7DrKgcItd7D0uu1AEmRREBbi65Vg4w6j64BFlPui0PAdk6wCoC3HQmV8pXYNgV6Vb6MrKZBsIRXUfuwEB4CDAQMAIMBIwAAwGrBJgMA6GICjLyLx0AAAAAAAAAgO/jHYBAeU+AgYB57sRAuAgwYJ8vuPKvfH/5QD+WCZtqwBxfXrzTP73o6LkZA/Z4uRJgIEw+J2OZUeGqAfbsoQGbvNMAV+/NVFmAVf7m8mAL7dlCAyZ5bZ11QdcLtNAAgH/swYEAAAAAAJD/ayOoqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqgr7dEwDAAwDMGzH+GPuUwh9ItkcDABw7q8H9AgMYQJDmMAQJjCECQxhAkOYwBAmMIQJDGECQ5jAECYwhAkMYQJDmMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAsAcHAgAAAABA/q+NoKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoq7MGBAAAAAACQ/2sjqKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpKe3BIAAAAACDo/2tnWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALgElnpj9xyFNyoAAAAASUVORK5CYII=" alt="solar"><p>切换目录</p><p>npm install 安装依赖包</p><p>npm run dev 启动</p><img src="data:image/png;base64,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" alt="solar"><p>package json 命令解析</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 启动开发服务器，别名：`vite dev`，`vite serve`</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 为生产环境构建产物</span>
    <span class="token string-property property">&quot;preview&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span> <span class="token comment">// 本地预览生产构建产物</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模板语法" tabindex="-1"><a class="header-anchor" href="#模板语法" aria-hidden="true">#</a> 模板语法</h2><p>在script 声明一个变量可以直接在template 使用用法为{</p>{变量名称}} <div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;我是小满&quot;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>



<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>模板语法是可以编写条件运算的</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token char">&#39;我是小满0&#39;</span> <span class="token operator">:</span> &#39;我不是小满other&#39; <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> message<span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运算也是支持的</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message  <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> message<span class="token operator">:</span>number <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>操作API 也是支持的</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">&#39;，&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> message<span class="token operator">:</span>string <span class="token operator">=</span> <span class="token string">&quot;我，是，小，满&quot;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>



<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="指令" tabindex="-1"><a class="header-anchor" href="#指令" aria-hidden="true">#</a> 指令</h2><p>v- 开头都是vue 的指令</p><p>v-text 用来显示文本</p><p>v-html 用来展示富文本</p><p>v-if 用来控制元素的显示隐藏（切换真假DOM）</p><p>v-else-if表示v-if的“else if 块”。可以链式调用</p><p>v-else v-if条件收尾语句</p><p>v-show用来控制元素的显示隐藏（display none block Css切换）</p><p>v-on 简写@ 用来给元素添加事件</p><p>v-bind 简写: 用来绑定元素的属性Attr</p><p>v-model 双向绑定</p><p>v-for 用来遍历元素</p><p>v-on修饰符 冒泡案例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">&quot;parent&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token annotation punctuation">@click.stop</span><span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span>child<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token char">&#39;child&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token char">&#39;parent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>阻止表单提交案例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button <span class="token annotation punctuation">@click.prevent</span><span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> submit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token char">&#39;child&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>


<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v-bind 绑定class 案例 1</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;[flag ? &#39;active&#39; : &#39;other&#39;, &#39;h&#39;]&quot;</span><span class="token operator">&gt;</span><span class="token number">12323</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> flag<span class="token operator">:</span> <span class="token keyword">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>



<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token punctuation">.</span>active <span class="token punctuation">{</span>
  color<span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>other <span class="token punctuation">{</span>
  color<span class="token operator">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>h <span class="token punctuation">{</span>
  height<span class="token operator">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
  border<span class="token operator">:</span> <span class="token number">1</span>px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v-bind 绑定class 案例 2</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;flag&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flag<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
type <span class="token class-name">Cls</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  other<span class="token operator">:</span> <span class="token keyword">boolean</span><span class="token punctuation">,</span>
  h<span class="token operator">:</span> <span class="token keyword">boolean</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> flag<span class="token operator">:</span> <span class="token class-name">Cls</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  other<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  h<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>



<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token punctuation">.</span>active <span class="token punctuation">{</span>
  color<span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>other <span class="token punctuation">{</span>
  color<span class="token operator">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>h <span class="token punctuation">{</span>
  height<span class="token operator">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
  border<span class="token operator">:</span> <span class="token number">1</span>px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v-bind 绑定style案例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;style&quot;</span><span class="token operator">&gt;</span><span class="token number">2222</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>



<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>


type <span class="token class-name">Style</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  height<span class="token operator">:</span> string<span class="token punctuation">,</span>
  color<span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">const</span> style<span class="token operator">:</span> <span class="token class-name">Style</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  height<span class="token operator">:</span> <span class="token string">&quot;300px&quot;</span><span class="token punctuation">,</span>
  color<span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>v-model 案例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;message&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;v-model&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>



<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token punctuation">.</span>active <span class="token punctuation">{</span>
  color<span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>other <span class="token punctuation">{</span>
  color<span class="token operator">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>h <span class="token punctuation">{</span>
  height<span class="token operator">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
  border<span class="token operator">:</span> <span class="token number">1</span>px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="reactive全家桶" tabindex="-1"><a class="header-anchor" href="#reactive全家桶" aria-hidden="true">#</a> reactive全家桶</h2><p>用来绑定复杂的数据类型 例如 对象 数组</p><p>reactive 源码约束了我们的类型</p><img src="/assets/bk242.559edc51.png" alt="solar"><h3 id="什么是reactive" tabindex="-1"><a class="header-anchor" href="#什么是reactive" aria-hidden="true">#</a> 什么是reactive?</h3><ul><li>reactive是Vue3中提供实现响应式数据的方法</li><li>在Vue2中响应式数据是通过defineProperty来实现的</li><li>而在Vue3响应式数据是通过ES6的Proxy来实现的</li></ul><h3 id="reactive注意点" tabindex="-1"><a class="header-anchor" href="#reactive注意点" aria-hidden="true">#</a> reactive注意点</h3><ul><li>reactive参数必须是对象(json/arr)</li><li>如果给reactive传递了其他对象,默认情况下修改对象,界面不会自动更新,如果想更新,可以通过重新赋值的方式</li></ul><p>他是不可以绑定普通的数据类型这样是不允许 会给我们报错</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>import { reactive} from &#39;vue&#39;
let person = reactive(&#39;sad&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="/assets/bk243.7f790120.png" alt="solar"><p>绑定普通的数据类型 我们可以 使用昨天讲到ref</p><p>你如果用ref去绑定对象 或者 数组 等复杂的数据类型 我们看源码里面其实也是 去调用reactive</p><p>使用reactive 去修改值无须.value</p><h3 id="reactive-基础用法" tabindex="-1"><a class="header-anchor" href="#reactive-基础用法" aria-hidden="true">#</a> reactive 基础用法</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ job.type }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ arr }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>               <span class="token comment">// 一定要引入reactive</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">steup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> job <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                   <span class="token comment">// reactive可以是对象数据类型</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;工程师&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">4000</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      
      <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;数据1&#39;</span>，<span class="token string">&#39;数据2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// reactive也可以是数组数据类型</span>
      
      <span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          job<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;农名工&#39;</span>                <span class="token comment">// 对象类型的数据直接.</span>
          job<span class="token punctuation">.</span>money <span class="token operator">=</span> <span class="token number">5000</span>
          arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;更新数据1&#39;</span>               <span class="token comment">// Vue3中可以实现数组的数据响应式了！</span>
      <span class="token punctuation">}</span>
  
      <span class="token keyword">return</span><span class="token punctuation">{</span>
          job<span class="token punctuation">,</span>
          arr
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当要初始化一个空对象时，使用reactive最好先将里面的结构一起定义好；或者使用ref初始化一个空对象，</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ job.type }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ person.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>               <span class="token comment">// 一定要引入reactive</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">steup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> job <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                   <span class="token comment">// 先定义好reactive里面的结构</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
	  
	  <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      
      <span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          job<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;农名工&#39;</span>                <span class="token comment">// 对象类型的数据直接.</span>
          job<span class="token punctuation">.</span>money <span class="token operator">=</span> <span class="token number">5000</span>
          arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;更新数据1&#39;</span>               <span class="token comment">// Vue3中可以实现数组的数据响应式了！</span>
      <span class="token punctuation">}</span>
	  
	  <span class="token keyword">function</span> <span class="token function">newPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
		  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
	  <span class="token punctuation">}</span>
  
      <span class="token keyword">return</span><span class="token punctuation">{</span>
          job<span class="token punctuation">,</span>
          person
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数组异步赋值问题" tabindex="-1"><a class="header-anchor" href="#数组异步赋值问题" aria-hidden="true">#</a> 数组异步赋值问题</h3><p>这样赋值页面是不会变化的因为会脱离响应式</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案1</p><p>使用push</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
  person<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方案2</p><p>包裹一层对象</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>type Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  list<span class="token operator">?</span><span class="token operator">:</span>Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">list</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
  person<span class="token punctuation">.</span>list <span class="token operator">=</span> arr<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ref全家桶" tabindex="-1"><a class="header-anchor" href="#ref全家桶" aria-hidden="true">#</a> ref全家桶</h2><h3 id="什么是ref" tabindex="-1"><a class="header-anchor" href="#什么是ref" aria-hidden="true">#</a> 什么是ref?</h3><ul><li>ref和reactive一样,也是用来实现响应式数据的方法</li><li>由于reactive必须传递一个对象,所以在实际开发中如果只是想让某个变量实现响应式的时候回非常麻烦</li><li>所以Vue3提供了ref方法实现简单值得监听</li></ul><h3 id="ref本质" tabindex="-1"><a class="header-anchor" href="#ref本质" aria-hidden="true">#</a> ref本质</h3><ul><li>ref底层其实还是reactive,所以当运行时系统会自动根据传入的ref转换成reactive</li></ul><h3 id="ref注意点" tabindex="-1"><a class="header-anchor" href="#ref注意点" aria-hidden="true">#</a> ref注意点</h3><ul><li>在vue中使用ref的值不用通过value获取</li><li>在js中使用ref的值必须通过value获取</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        // 直接引用变量获取值
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{num}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span>ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 声明双向数据ref</span>
        <span class="token keyword">const</span> num<span class="token operator">=</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// js 通过.value 获取值</span>
        num<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            num<span class="token punctuation">.</span>value<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            num<span class="token punctuation">,</span>
            click
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>通过ref 获取元素</li></ul><p>在vue2中我们可以通过给元素添加ref=‘xxx’,然后在代码中通过refs.xxx的方式来获取元素,在vue3中也可以通过ref来获取元素.但不是像以下这种熟悉的方式,因为在vue3中没有$和refs这些东西</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     这个是div
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span>onMounted<span class="token punctuation">,</span>ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">const</span> div<span class="token operator">=</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//本质是reactive({value:null})</span>
       <span class="token comment">// 错误用法</span>
       <span class="token comment">// this.$refs.div</span>
 
       <span class="token comment">//正确用法</span>
 
       <span class="token comment">// 需要再onMountd 生命周期内使用</span>
       <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
           <span class="token comment">// 界面挂载完后 会执行</span>
           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token comment">//接受的是null,原因是setup执行时机比mounted早,dom还没形成 注意vue3的生命周期</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 执行早于 onMounted</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            div
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
... 
 
输出结果
  null
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>这个是div<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例" tabindex="-1"><a class="header-anchor" href="#案例" aria-hidden="true">#</a> 案例</h3><p>这里案例使用的是ts，如果转换成js也类似</p><p><strong>案例一</strong></p><p>我们这样操作是无法改变message 的值 应为message 不是响应式的无法被vue 跟踪要改成ref</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">let</span> <span class="token literal-property property">message</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;我是message&quot;</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   message <span class="token operator">=</span> <span class="token string">&quot;change msg&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>改为ref</p><p>注意被ref包装之后需要.value 来进行赋值</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span>Ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">let</span> <span class="token literal-property property">message</span><span class="token operator">:</span>Ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;我是message&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   message<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;change msg&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
//--------------------------------ts两种方式
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string <span class="token operator">|</span> number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;我是message&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;change msg&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>案例二</strong></p><p>判断是不是一个ref对象</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>import { ref, Ref,isRef } from &#39;vue&#39;
let message: Ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">&gt;</span></span> = ref(&quot;我是message&quot;)
let notRef:number = 123
const changeMsg = () =&gt; {
  message.value = &quot;change msg&quot;
  console.log(isRef(message)); //true
  console.log(isRef(notRef)); //false
  
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>案例三</strong></p><p>创建一个跟踪自身.value变化的 ref，但不会使其值也变成响应式的</p><p>1、修改其属性是非响应式的这样是不会改变的</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Ref<span class="token punctuation">,</span> shallowRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
type Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">message</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span>Obj<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小满&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;大满&#39;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、这样是可以被监听到的修改value</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>import { Ref, shallowRef } from &#39;vue&#39;
type Obj = {
  name: string
}
let message: Ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Obj</span><span class="token punctuation">&gt;</span></span> = shallowRef({
  name: &quot;小满&quot;
})

const changeMsg = () =&gt; {
  message.value = { name: &quot;大满&quot; }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、强制更新页面DOM</p><p>这样也是可以改变值的</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Ref<span class="token punctuation">,</span> shallowRef<span class="token punctuation">,</span>triggerRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
type Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">message</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span>Obj<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小满&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;大满&#39;</span>
 <span class="token function">triggerRef</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>案例四</strong></p><p>自定义ref</p><p>customRef 是个工厂函数要求我们返回一个对象 并且实现 get 和 set</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Ref<span class="token punctuation">,</span> shallowRef<span class="token punctuation">,</span> triggerRef<span class="token punctuation">,</span> customRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">function</span> Myref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">track<span class="token punctuation">,</span> trigger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;set&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        value <span class="token operator">=</span> newVal
        <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token function">Myref</span><span class="token punctuation">(</span><span class="token string">&#39;小满&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;大满&#39;</span>
  <span class="token comment">// triggerRef(message)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="toref、torefs、toraw" tabindex="-1"><a class="header-anchor" href="#toref、torefs、toraw" aria-hidden="true">#</a> toRef、toRefs、toRaw</h1><h3 id="toref" tabindex="-1"><a class="header-anchor" href="#toref" aria-hidden="true">#</a> toRef</h3><ul><li>toRef是将对象中的某个值转化为响应式数据 toRef(obj,key)</li></ul><h4 id="toref定义原始数据非响应式数据" tabindex="-1"><a class="header-anchor" href="#toref定义原始数据非响应式数据" aria-hidden="true">#</a> toRef定义原始数据非响应式数据</h4><ul><li>toRef 如果原始对象是非响应式的就不会更新视图 数据是会变的</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRef<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
   <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;num&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// toRef 如果原始对象是非响应式的就不会更新视图 数据是会变的</span>
<span class="token comment">// toRef 如果原始对象是响应式时，原始数据，和copy的数据 都会产生影响，视图也发生变化</span>
<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   state<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">3</span>
   obj<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">3</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;原始obj&#39;</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;引用state&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原始数据非响应式数据效果</p><img src="/assets/bk244.d4809f38.png" alt="solar"><h4 id="toref定义原始数据为响应式数据" tabindex="-1"><a class="header-anchor" href="#toref定义原始数据为响应式数据" aria-hidden="true">#</a> toRef定义原始数据为响应式数据</h4><ul><li>toRef 如果原始对象是响应式时，原始数据，和copy的数据 都会产生影响，视图也发生变化</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRef<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;num&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// toRef 作用：就是对原始数据，和copy的数据 都会产生影响 若是使用reactive定义的复杂数据，也是会联动视图</span>
<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   state<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">3</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;原始obj&#39;</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;引用state&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果</p><img src="/assets/bk245.a30feb03.png" alt="solar"><h3 id="torefs-可批量创建响应式数据" tabindex="-1"><a class="header-anchor" href="#torefs-可批量创建响应式数据" aria-hidden="true">#</a> toRefs 可批量创建响应式数据</h3><p>可以帮我们批量创建ref对象主要是方便我们解构使用</p><ul><li>也就是对对象解构时，解构出来的值为非响应式数据，但使用 toRefs 定义后 这些被解构出来的值 为响应式数据</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRefs<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
   <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> obj <span class="token comment">// 直接结构出来的数据，是非响应式的数据</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;num&#39;</span><span class="token punctuation">,</span> num<span class="token punctuation">,</span> <span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> num1<span class="token punctuation">,</span> <span class="token literal-property property">count</span><span class="token operator">:</span> count1 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 直接结构出来的数据，是非响应式的数据，通过toRefs定义为响应式数据</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;num1&#39;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> <span class="token string">&#39;count1&#39;</span><span class="token punctuation">,</span> count1<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   num <span class="token operator">=</span> <span class="token number">10</span>
   count1<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">100</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;事件num&#39;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>点击事件后，非响应式的num值变成10，但是在视图中没有更新</p><img src="/assets/bk246.84ca96e5.png" alt="solar"><h3 id="toraw-将响应式对象转化为普通对象" tabindex="-1"><a class="header-anchor" href="#toraw-将响应式对象转化为普通对象" aria-hidden="true">#</a> toRaw 将响应式对象转化为普通对象</h3><ul><li>将响应式对象转化为普通对象 <ul><li>数据变化，视图不变化</li></ul></li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRaw<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
   <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token function">toRaw</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;newObj&#39;</span><span class="token punctuation">,</span> newObj<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   newObj<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">33</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;newObj2&#39;</span><span class="token punctuation">,</span> newObj<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="/assets/bk247.0df6bc27.png" alt="solar"><h3 id="markraw包裹之后的对象-不会转化为响应式数据" tabindex="-1"><a class="header-anchor" href="#markraw包裹之后的对象-不会转化为响应式数据" aria-hidden="true">#</a> markRaw包裹之后的对象，不会转化为响应式数据</h3><ul><li>使用markRaw包裹之后的对象，永远不能转成响应式数据，即使使用ref包裹。页面不会发生改变</li><li>注意点：前提不是先使用 reactive 包裹 当前数据转化为 响应式数据了</li></ul><p>效果</p><ul><li>点击时候，name值 不修改</li></ul><img src="data:image/png;base64,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" alt="solar"><h2 id="computed计算属性" tabindex="-1"><a class="header-anchor" href="#computed计算属性" aria-hidden="true">#</a> computed计算属性</h2><p>计算属性就是当依赖的属性的值发生变化的时候，才会触发他的更改，如果依赖的值，不发生变化的时候，使用的是缓存中的属性值。</p><h4 id="函数形式" tabindex="-1"><a class="header-anchor" href="#函数形式" aria-hidden="true">#</a> 函数形式</h4><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token string">&#39;今年：&#39;</span> <span class="token operator">+</span> obj<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATwAAACgCAMAAACmCCC4AAAAZlBMVEX///8hNUf//89hsueFNUchks/N////6bKp6f/NkkchNZTqsnCpb0f//+f/z5SFNXCFz/9hNUdhNZQhNXDq//8hb7LN/8+Fz+chb4LN6f+p6eep6c9hks9hb7Kpb5TNknCFknBhNXBMDcobAAAB2ElEQVR42u3bzXLaMBQGUAljg3HikgJt+t++/0s2Mi5imkkdqZskc84iENh9I+nKuigAAAAAAAAAAAAAAAAAAAC8Cqt32/TyYxsoSG0dYzxsp/Bub+4/pQ+yXRdYHHYpvNX6dAxUhTfEJlCmn6ftl/U+UOb2pjkPPqWiJrx9qhoqROV6N78Mc7kYY2YmL29Vdt1DeGZulfF0TMn1baA2vJV6W2Fo05q3+ToeTNxifQrv564Lg/QKtyrT/mRzN9XaYfdhHaOH2zKjYgEAAPBi9M2f41EPa6WG2EzZtcG5aMXxSjMdrHTBuWhpdg+nUSm8vp3+0wAvs7oOz7wtDi9PW+HVhLe5SwVDva0JL6UX40fTtjy8/FbBqF7zNCFr17xGvfifNc/PHAEAAHjx0tP/RL+i2Gp9/2sbZuOu088t6ZSdjsMlsj5mrX7ugimG0M/pbb4d09/3nX7uM4yxSVcd50sX6e05vPz9Xj/3qWF3OWaf7l4MbXgcnn7uX3IyuQYMh8/fuz5me/3cMn1zHnn6ucuGeHE6Xoenn1u8Uc7h6eeWbPbaeThd2+vnLsr7vORRtdXP/bc0hp4MTz/3WQteDs/F2pKb8cIDAAAAAAAAAAAAAAAAAIA36DdDpxEIEyjfvgAAAABJRU5ErkJggg==" alt="solar"><h4 id="对象的形式" tabindex="-1"><a class="header-anchor" href="#对象的形式" aria-hidden="true">#</a> 对象的形式</h4><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> obj<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      obj<span class="token punctuation">.</span>age <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>age<span class="token operator">++</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABeCAMAAAAqnWk+AAAAV1BMVEX///8hNUf//8+FNUep6f9hsueFNXAhks8hNZTN///qsnCpb0f//+fNkkf/6bL/z5Tq//+Fz/8hb7IhNXBhNUfN/8/N6f+Fz+ep6c9hks8hb5TNknCFknCbLNTEAAABHklEQVR42u3ZyXKDMBCE4ZGwDBabt+x5/+cMGkPhqhxTlYP6/y423LoYNSAMAAAAAAAAEBePB1t8Hax2sQkh3A4eeOg/X8uJXXeyGsWjB47N9WwSHoFzSKZgXEf6vbmYgqFPj4tcf11tgS+luSpvqV/3o/KT18qaw67CKY+NX9clsM5U23w9l7RjayLWwFGkp81yW9bw9DHfRIZ6LIG/l4LOAomH3u9F0907OncvTQj1P0ybzTKFBQAAgP8wpm1LQONBM4fkeVuT2AsY+uCBc3cyhb2AoV/eDJO/HPuRwqZ8fA4sMNMl8D7SOoGneyktiZ4ugT1xCG9CI73+1SktX8MaG7bbGk4infW0hkU+jQMAAAAAAAAAAAAAAAB/8gOFsge5bbPNmQAAAABJRU5ErkJggg==" alt="solar"><h2 id="watch侦听器" tabindex="-1"><a class="header-anchor" href="#watch侦听器" aria-hidden="true">#</a> watch侦听器</h2><p>watch 需要侦听特定的数据源，并在单独的回调函数中执行副作用</p><p>watch第一个参数监听源</p><p>watch第二个参数回调函数cb（newVal,oldVal）</p><p>watch第三个参数一个options配置项是一个对象{</p><p>​ immediate:true //是否立即调用一次</p><p>​ deep:true //是否开启深度监听</p><p>}</p><p>监听Ref 案例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>

let message <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    nav<span class="token operator">:</span><span class="token punctuation">{</span>
        bar<span class="token operator">:</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token function">watch</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;新的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;旧的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    deep<span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>监听多个ref 注意变成数组啦</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">,</span>reactive<span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>

let message <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>&#39;&#39;<span class="token punctuation">)</span>
let message2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>&#39;&#39;<span class="token punctuation">)</span>

<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>message<span class="token punctuation">,</span>message2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;新的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;旧的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>监听Reactive</p><p>使用reactive监听深层对象开启和不开启deep 效果一样</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">,</span>reactive<span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>

let message <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    nav<span class="token operator">:</span><span class="token punctuation">{</span>
        bar<span class="token operator">:</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token function">watch</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;新的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;旧的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>案例2 监听reactive 单一值</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">,</span>reactive<span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>

let message <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    name2<span class="token operator">:</span><span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span>message<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;新的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;旧的值<span class="token operator">--</span><span class="token operator">--</span>&#39;<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="watcheffect高级侦听器" tabindex="-1"><a class="header-anchor" href="#watcheffect高级侦听器" aria-hidden="true">#</a> watchEffect高级侦听器</h2><h3 id="watcheffect函特性" tabindex="-1"><a class="header-anchor" href="#watcheffect函特性" aria-hidden="true">#</a> watchEffect函特性：</h3><p>与watch相似都可以监听一个数据源。 但是watchEffect会在初始化的时候调用一次，与watch的immediate类似。</p><h3 id="watcheffect使用" tabindex="-1"><a class="header-anchor" href="#watcheffect使用" aria-hidden="true">#</a> watchEffect使用</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> message2 <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
 <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(&#39;message&#39;, message.value);</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;message2&#39;</span><span class="token punctuation">,</span> message2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="清除副作用" tabindex="-1"><a class="header-anchor" href="#清除副作用" aria-hidden="true">#</a> 清除副作用</h3><p>就是在触发监听之前会调用一个函数可以处理你的逻辑例如防抖</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> watchEffect<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> message2 <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
 <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">oninvalidate</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(&#39;message&#39;, message.value);</span>
    <span class="token function">oninvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;message2&#39;</span><span class="token punctuation">,</span> message2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**停止跟踪 watchEffect 返回一个函数 调用之后将停止更新 **</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">const</span> stop <span class="token operator">=</span>  <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>oninvalidate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(&#39;message&#39;, message.value);</span>
    <span class="token function">oninvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;message2&#39;<span class="token punctuation">,</span> message2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    flush<span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    onTrigger <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="副作用刷新时机-flush-一般使用post" tabindex="-1"><a class="header-anchor" href="#副作用刷新时机-flush-一般使用post" aria-hidden="true">#</a> 副作用刷新时机 flush 一般使用post</h3><p><strong>onTrigger 可以帮助我们调试 watchEffect</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> watchEffect<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
let message <span class="token operator">=</span> ref<span class="token generics"><span class="token punctuation">&lt;</span>string<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>&#39;&#39;<span class="token punctuation">)</span>
let message2 <span class="token operator">=</span> ref<span class="token generics"><span class="token punctuation">&lt;</span>string<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>&#39;&#39;<span class="token punctuation">)</span>
 <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>oninvalidate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(&#39;message&#39;, message.value);</span>
    <span class="token function">oninvalidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&#39;message2&#39;<span class="token punctuation">,</span> message2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    flush<span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    onTrigger <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="父子组件传参" tabindex="-1"><a class="header-anchor" href="#父子组件传参" aria-hidden="true">#</a> 父子组件传参</h2><p>父组件通过v-bind绑定一个数据，然后子组件通过defineProps接受传过来的值，</p><h3 id="父组件给子组件传参" tabindex="-1"><a class="header-anchor" href="#父组件给子组件传参" aria-hidden="true">#</a> 父组件给子组件传参</h3><p>给Menu组件 传递了一个title 字符串类型是不需要v-bind</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Menu</span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我是标题<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Header</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>传递非字符串类型需要加v-bind 简写 冒号</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Menu</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我是标题<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Header</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Menu <span class="token keyword">from</span> <span class="token string">&#39;./Menu/index.vue&#39;</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">&#39;./Header/index.vue&#39;</span>
<span class="token keyword">import</span> Content <span class="token keyword">from</span> <span class="token string">&#39;./Content/index.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>子组件接受值</p><p>通过defineProps 来接受defineProps是无须引入的直接使用即可</p><p>如果我们使用的TypeScript</p><p>可以使用传递字面量类型的纯类型语法做为参数</p><p>如 这是TS特有的</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        菜单区域 {{ title }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ data }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span>string<span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你使用的不是TS</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>defineProps({
    title:{
        default:&quot;&quot;,
        type:string
    },
    data:Array
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TS 特有的默认值方式</p><p>withDefaults是个函数也是无须引入开箱即用接受一个props函数第二个参数是一个对象设置默认值</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>type <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
    data<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function">withDefaults</span><span class="token punctuation">(</span>defineProps<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Props</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子组件给父组件传参" tabindex="-1"><a class="header-anchor" href="#子组件给父组件传参" aria-hidden="true">#</a> 子组件给父组件传参</h3><p>是通过defineEmits派发一个事件</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickTap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>派发给父组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;on-click&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickTap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;on-click&#39;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们在子组件绑定了一个click 事件 然后通过defineEmits 注册了一个自定义事件</p><p>点击click 触发 emit 去调用我们注册的事件 然后传递参数</p><p>父组件接受子组件的事件</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Menu</span> <span class="token attr-name">@on-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Header</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Menu <span class="token keyword">from</span> <span class="token string">&#39;./Menu/index.vue&#39;</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">&#39;./Header/index.vue&#39;</span>
<span class="token keyword">import</span> Content <span class="token keyword">from</span> <span class="token string">&#39;./Content/index.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">getList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">list</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span><span class="token string">&#39;父组件接受子组件&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们从Menu 组件接受子组件派发的事件on-click 后面是我们自己定义的函数名称getList</p><p>会把参数返回过来</p><h3 id="子组件暴露给父组件内部属性" tabindex="-1"><a class="header-anchor" href="#子组件暴露给父组件内部属性" aria-hidden="true">#</a> 子组件暴露给父组件内部属性</h3><p>在 Vue3中，默认不会暴露任何在中声明的绑定，即不能通过模板 ref 获取到组件实例声明的绑定。Vue3 提供了 defineExpose 编译器宏，可以显式地暴露需要暴露的组件中声明的变量和方法。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- ./components/HelloWorld.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Hello Vue3&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleChangeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">v</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   msg<span class="token punctuation">.</span>value <span class="token operator">=</span> v
<span class="token punctuation">}</span>

<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   msg<span class="token punctuation">,</span>
   handleChangeMsg
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用组件</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChangeMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>handleChangeMsg<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&#39;./components/HelloWorld.vue&#39;</span>
<span class="token comment">// 此处暂时使用any，需要定义类型</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> ref<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleChangeMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   root<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">handleChangeMsg</span><span class="token punctuation">(</span><span class="token string">&#39;Hello TS&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="兄弟组件传参和bus" tabindex="-1"><a class="header-anchor" href="#兄弟组件传参和bus" aria-hidden="true">#</a> 兄弟组件传参和Bus</h2><p>例如父组件为App 子组件为A 和 B他两个是同级的</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span><span class="token class-name">A</span> <span class="token annotation punctuation">@on</span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;getFalg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">A</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">B</span> <span class="token operator">:</span>flag<span class="token operator">=</span><span class="token string">&quot;Flag&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">B</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token char">&#39;ts&#39;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token class-name">A</span> from &#39;<span class="token punctuation">.</span>/components<span class="token operator">/</span><span class="token class-name">A</span><span class="token punctuation">.</span>vue&#39;
<span class="token keyword">import</span> <span class="token class-name">B</span> from &#39;<span class="token punctuation">.</span>/components<span class="token operator">/</span><span class="token class-name">B</span><span class="token punctuation">.</span>vue&#39;
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
let <span class="token class-name">Flag</span> <span class="token operator">=</span> ref<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> getFalg <span class="token operator">=</span> <span class="token punctuation">(</span>flag<span class="token operator">:</span> <span class="token keyword">boolean</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
   <span class="token class-name">Flag</span><span class="token punctuation">.</span>value <span class="token operator">=</span> flag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    
<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A 组件派发事件通过App.vue 接受A组件派发的事件然后在Props 传给B组件 也是可以实现的</p><p>缺点就是比较麻烦 ，无法直接通信，只能充当桥梁</p><p>我们在Vue2 可以使用$emit 传递 $on监听 emit传递过来的事件</p><p>这个原理其实是运用了JS设计模式之发布订阅模式</p><p>我写了一个简易版</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>type <span class="token class-name">BusClass</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    emit<span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">void</span>
    on<span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
type <span class="token class-name">BusParams</span> <span class="token operator">=</span> string <span class="token operator">|</span> number <span class="token operator">|</span> symbol 
type <span class="token class-name">List</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token class-name">BusParams</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token class-name">Array</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">BusParams</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">BusClass</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    list<span class="token operator">:</span> <span class="token class-name">List</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">emit</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>args<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token generics"><span class="token punctuation">&lt;</span>any<span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        let eventName<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
        eventName<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ev <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            ev<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">on</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        let fn<span class="token operator">:</span> <span class="token class-name">Array</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        fn<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> fn
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

export <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token generics"><span class="token punctuation">&lt;</span>number<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后挂载到Vue config 全局就可以使用啦</p><h2 id="mitt发布订阅模式" tabindex="-1"><a class="header-anchor" href="#mitt发布订阅模式" aria-hidden="true">#</a> Mitt发布订阅模式</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>在vue3中$on、$off和$once实例方法已被移除，组件实例不再实现事件触发接口，因此大家熟悉的EventBus便无法使用了。然而我们习惯了使用EventBus，对于这种情况我们可以使用Mitt库（其实就是我们视频中讲的发布订阅模式的设计）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1.安装</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install mitt <span class="token operator">-</span><span class="token class-name">S</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.main.ts 初始化 全局总线，vue 入口文件 main.js 中挂载全局属性</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token class-name">App</span> from &#39;<span class="token punctuation">.</span>/<span class="token class-name">App</span><span class="token punctuation">.</span>vue&#39;
<span class="token keyword">import</span> <span class="token namespace">mitt</span> from <span class="token char">&#39;mitt&#39;</span>

<span class="token keyword">const</span> <span class="token class-name">Mit</span> <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//TypeScript注册</span>
<span class="token comment">// 由于必须要拓展ComponentCustomProperties类型才能获得类型提示</span>
declare <span class="token keyword">module</span> <span class="token string">&quot;vue&quot;</span> <span class="token punctuation">{</span>
    export <span class="token keyword">interface</span> <span class="token class-name">ComponentCustomProperties</span> <span class="token punctuation">{</span>
        $<span class="token class-name">Bus</span><span class="token operator">:</span> typeof <span class="token class-name">Mit</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token punctuation">)</span>

<span class="token comment">//Vue3挂载全局API</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$<span class="token class-name">Bus</span> <span class="token operator">=</span> <span class="token class-name">Mit</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token char">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3使用方法通过emit派发， on 方法添加事件，off 方法移除，clear 清空所有</p><p>A组件派发（emit）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span>我是<span class="token class-name">A</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">&quot;emit1&quot;</span><span class="token operator">&gt;</span>emit1<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">&quot;emit2&quot;</span><span class="token operator">&gt;</span>emit2<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token char">&#39;ts&#39;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCurrentInstance <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> emit1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token char">&#39;on-num&#39;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> emit2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token char">&#39;*****&#39;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>B组件监听（on）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span>我是<span class="token class-name">B</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token char">&#39;ts&#39;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCurrentInstance <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token char">&#39;on-num&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span>&#39;<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token class-name">B</span>&#39;<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>监听所有事件（ on(&quot;*&quot;) ）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token char">&#39;*&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>num<span class="token punctuation">,</span>&#39;<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token class-name">B</span>&#39;<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>移除监听事件（off）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">const</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>num<span class="token operator">:</span> any<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> &#39;<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token class-name">B</span>&#39;<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token char">&#39;on-num&#39;</span><span class="token punctuation">,</span><span class="token class-name">Fn</span><span class="token punctuation">)</span><span class="token comment">//listen</span>
instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token char">&#39;on-num&#39;</span><span class="token punctuation">,</span><span class="token class-name">Fn</span><span class="token punctuation">)</span><span class="token comment">//unListen</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>清空所有监听（clear）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>instance<span class="token operator">?</span><span class="token punctuation">.</span>proxy<span class="token operator">?</span><span class="token punctuation">.</span>$<span class="token class-name">Bus</span><span class="token punctuation">.</span>all<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="全局组件-局部组件-递归组件" tabindex="-1"><a class="header-anchor" href="#全局组件-局部组件-递归组件" aria-hidden="true">#</a> 全局组件，局部组件，递归组件</h2><h3 id="全局组件" tabindex="-1"><a class="header-anchor" href="#全局组件" aria-hidden="true">#</a> 全局组件</h3><p>例如组件使用频率非常高（table，Input，button，等）这些组件 几乎每个页面都在使用便可以封装成全局组件</p><p>案例------我这儿封装一个Card组件想在任何地方去使用</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;card&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;card-header&quot;</span><span class="token operator">&gt;</span>
         <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>标题<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
         <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>副标题<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span>&#39;content&#39; <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;card-content&quot;</span><span class="token operator">&gt;</span>
         <span class="token punctuation">{</span><span class="token punctuation">{</span>content<span class="token punctuation">}</span><span class="token punctuation">}</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
type <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    content<span class="token operator">:</span>string
<span class="token punctuation">}</span>
defineProps<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Props</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token char">&#39;less&#39;</span><span class="token operator">&gt;</span>
<span class="token annotation punctuation">@border</span><span class="token operator">:</span>#ccc<span class="token punctuation">;</span>
<span class="token punctuation">.</span>card<span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
    border<span class="token operator">:</span> <span class="token number">1</span>px solid <span class="token annotation punctuation">@border</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">3</span>px<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span>hover<span class="token punctuation">{</span>
        box<span class="token operator">-</span>shadow<span class="token operator">:</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">10</span>px <span class="token annotation punctuation">@border</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">&amp;</span><span class="token operator">-</span>content<span class="token punctuation">{</span>
        padding<span class="token operator">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">-</span>header<span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
        justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
        padding<span class="token operator">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
        border<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">1</span>px solid <span class="token annotation punctuation">@border</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="/assets/bk251.b4d227ad.png" alt="solar"><p>使用方法</p><p>在main.ts 引入我们的组件跟随在createApp(App) 后面 切记不能放到mount 后面这是一个链式调用用</p><p>其次调用 component 第一个参数组件名称 第二个参数组件实例</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./assets/css/reset/index.less&#39;</span>
<span class="token keyword">import</span> Card <span class="token keyword">from</span> <span class="token string">&#39;./components/Card/index.vue&#39;</span>


<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;Card&#39;</span><span class="token punctuation">,</span>Card<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用方法</p><p>直接在其他vue页面 立即使用即可 无需引入</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Card</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Card</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="局部组件和递归组件" tabindex="-1"><a class="header-anchor" href="#局部组件和递归组件" aria-hidden="true">#</a> 局部组件和递归组件</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wraps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout-menu</span> <span class="token attr-name">:flag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@on-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getMenu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@on-toogle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getMenuItem<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menuList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wraps-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wraps-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout-header</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout-header</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout-main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wraps-right-main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout-main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
import { reactive,ref } from &quot;vue&quot;;
import layoutHeader from &quot;./Header.vue&quot;;
import layoutMenu from &quot;./Menu.vue&quot;;
import layoutMain from &quot;./Content.vue&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>就是在一个组件内（A） 通过import 去引入别的组件(B) 称之为局部组件</p><p>应为B组件只能在A组件内使用 所以是局部组件</p><p>如果C组件想用B组件 就需要C组件也手动import 引入 B 组件</p><p>原理跟我们写js递归是一样的 自己调用自己 通过一个条件来结束递归 否则导致内存泄漏</p><p>案例递归树</p><p>在父组件配置数据结构 数组对象格式 传给子组件</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>type <span class="token class-name">TreeList</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  icon<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  children<span class="token operator">?</span><span class="token operator">:</span> <span class="token class-name">TreeList</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> reactive<span class="token operator">&lt;</span><span class="token class-name">TreeList</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;no.1&quot;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;no.1-1&quot;</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;no.1-1-1&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;no.2&quot;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;no.2-1&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;no.3&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>子组件接收值 第一个script</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>type <span class="token class-name">TreeList</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  icon<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  children<span class="token operator">?</span><span class="token operator">:</span> <span class="token class-name">TreeList</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

type <span class="token class-name">Props</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">?</span><span class="token operator">:</span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

defineProps<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Props</span><span class="token punctuation">&lt;</span><span class="token class-name">TreeList</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> clickItem <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token class-name">TreeList</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>子组件增加一个script 定义组件名称为了 递归用</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
export <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">&quot;TreeItem&quot;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>template</p><p>TreeItem 其实就是当前组件 通过import 把自身又引入了一遍 如果他没有children 了就结束</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">&quot;margin-left:10px;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tree&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index) in data&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token annotation punctuation">@click</span><span class="token operator">=</span>&#39;<span class="token function">clickItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>&#39;<span class="token operator">&gt;</span><span class="token punctuation">{</span>
  <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">TreeItem</span> <span class="token annotation punctuation">@on</span><span class="token operator">-</span>click<span class="token operator">=</span>&#39;clickItem<span class="token char">&#39; v-if=&#39;</span>item<span class="token operator">?</span><span class="token punctuation">.</span>children<span class="token operator">?</span><span class="token punctuation">.</span>length&#39; <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;item.children&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">TreeItem</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="/assets/bk252.0e81229a.png" alt="solar"><h2 id="插槽slot" tabindex="-1"><a class="header-anchor" href="#插槽slot" aria-hidden="true">#</a> 插槽slot</h2><p>插槽就是子组件中的提供给父组件使用的一个 <a href="https://so.csdn.net/so/search?q=%E5%8D%A0%E4%BD%8D%E7%AC%A6&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">占位符<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，用&lt;slot&gt;&lt;/slot&gt; 表示，父组件可以在这个占位符中填充任何模板代码，如 HTML、组件等，填充的内容会替换子组件的&lt;slot&gt;&lt;/slot&gt;标签。</p><p>1.在子组件放置一个插槽</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
       <span class="token generics"><span class="token punctuation">&lt;</span>slot<span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>父组件使用插槽</p><p>在父组件给这个插槽填充内容</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span><span class="token punctuation">&gt;</span></span>
           <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">2132</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Dialog</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>具名插槽其实就是给插槽取个名字。一个子组件可以放多个插槽，而且可以放在不同的地方，而父组件填充内容时，可以根据这个名字把内容填充到对应插槽中</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>	<span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>slot<span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>父组件使用需对应名称</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span><span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>header<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>footer<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Dialog</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>插槽简写</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span><span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span>template #header<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
               <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Dialog</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在子组件动态绑定参数 派发给父组件的slot去使用</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in 100&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>slot <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过结构方式取值</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span><span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span>template #header<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;{ data }&quot;</span><span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Dialog</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>插槽可以是一个变量名</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span><span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span>template #<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>div<span class="token punctuation">&gt;</span></span>
                    <span class="token number">23</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Dialog</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token char">&#39;header&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="teleport传送组件" tabindex="-1"><a class="header-anchor" href="#teleport传送组件" aria-hidden="true">#</a> Teleport传送组件</h2><h3 id="teleport-是什么" tabindex="-1"><a class="header-anchor" href="#teleport-是什么" aria-hidden="true">#</a> Teleport 是什么</h3><p>Teleport 是一种能够将我们的模板移动到 DOM 中 Vue app 之外的其他位置的技术。</p><p>如果我们嵌套在 Vue 的某个组件内部，那么处理嵌套组件的定位、z-index 和样式就会变得很困难。 使用Teleport 就可以方便的解决组件间 css 层级问题</p><p>主要解决的问题 因为Teleport节点挂载在其他指定的DOM节点下，完全不受父级style样式影响</p><h3 id="teleport-怎么使用" tabindex="-1"><a class="header-anchor" href="#teleport-怎么使用" aria-hidden="true">#</a> Teleport 怎么使用</h3><p>要使用teleport，首先要在页面上添加一个元素，我们要将模态内容移动到该页面 下面举个例子</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// index.html
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--Vue mounting element--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--modal should get moved here--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们将模态内容包装在 teleport 组件中，还需要指定一个 to 属性，为该属性分配一个查询选择器，以标识目标元素，在本例中为 #modal-wrapper</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggleModalState<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Open modal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#modal-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modal</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modalOpen<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello, I&#39;m a modal window.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modal</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>teleport 中的任何内容都将渲染在目标元素中</p><p><strong>案例</strong></p><p>通过to 属性 插入指定元素位置 to=&quot;body&quot; 便可以将Teleport 内容传送到指定位置</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token class-name">Teleport</span> <span class="token keyword">to</span><span class="token operator">=</span><span class="token string">&quot;body&quot;</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span><span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Loading</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Teleport</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以自定义传送位置 支持 class id等 选择器</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token class-name">Teleport</span> <span class="token keyword">to</span><span class="token operator">=</span><span class="token string">&quot;.modal&quot;</span><span class="token operator">&gt;</span>
   <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span><span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Loading</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Teleport</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以使用多个</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token class-name">Teleport</span> <span class="token keyword">to</span><span class="token operator">=</span><span class="token string">&quot;.modal1&quot;</span><span class="token operator">&gt;</span>
     <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span><span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Loading</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Teleport</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">Teleport</span> <span class="token keyword">to</span><span class="token operator">=</span><span class="token string">&quot;.modal2&quot;</span><span class="token operator">&gt;</span>
     <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span><span class="token punctuation">&gt;</span></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Loading</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Teleport</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="fragment" tabindex="-1"><a class="header-anchor" href="#fragment" aria-hidden="true">#</a> Fragment</h2><p>在Vue2中: 组件必须有一个根标签 在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中 好处: 减少标签层级, 减小内存占用</p><h2 id="suspense" tabindex="-1"><a class="header-anchor" href="#suspense" aria-hidden="true">#</a> Suspense</h2><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p><p>使用步骤：</p><p>异步引入组件</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
   defineAsyncComponent<span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span>
<span class="token keyword">const</span> <span class="token class-name">Child</span> <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span>&#39;<span class="token punctuation">.</span>/components<span class="token operator">/</span><span class="token class-name">Child</span><span class="token punctuation">.</span>vue&#39;<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用Suspense包裹组件，并配置好default与 fallback</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>h3<span class="token punctuation">&gt;</span></span>我是<span class="token class-name">App</span>组件<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">//default：就是组件要显示的内容</span>
			<span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token class-name">Child</span><span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
			<span class="token comment">//fallback：就是组件没加载完全的“备胎”</span>
			<span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>fallback<span class="token operator">&gt;</span>
				<span class="token generics"><span class="token punctuation">&lt;</span>h3<span class="token punctuation">&gt;</span></span>加载中<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>&lt;<span class="token operator">/</span>h3<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Suspense</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="缓存组件" tabindex="-1"><a class="header-anchor" href="#缓存组件" aria-hidden="true">#</a> 缓存组件</h2><p>keep-alive是vue中的一个内置组件，主要是将组建缓存到内存中，避免切换路由的时候页面刷新从而倒是dom的重新渲染</p><h3 id="路由配置" tabindex="-1"><a class="header-anchor" href="#路由配置" aria-hidden="true">#</a> 路由配置</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>//vue3.0的App.vue配置方法如下：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- vue3.0配置 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$route.meta.keepAlive<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!$route.meta.keepAlive<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在对应的路由上添加meta属性来设置页面是否要使用缓存，如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/keepAliveTest&quot;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;keepAliveTest&quot;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//设置页面是否需要使用缓存</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/views/keepAliveTest/index.vue&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="hooks使用" tabindex="-1"><a class="header-anchor" href="#hooks使用" aria-hidden="true">#</a> hooks使用</h2><p>vue3中的hooks其实是函数的写法，就是将文件的一些单独功能的js代码进行抽离出来，放到单独的js文件中。这样其实和我们在vue2中学的mixin比较像。下面我们总结一下如何去书写hooks。 首先应该先建立一个hooks文件夹：其目的是为了存放hook文件。</p><img src="/assets/bk253.203b1931.png" alt="solar"><p>建立相关的hook文件：一般使用use开头。</p><h3 id="一、计数器的hook" tabindex="-1"><a class="header-anchor" href="#一、计数器的hook" aria-hidden="true">#</a> 一、计数器的hook</h3><img src="/assets/bk254.7b5f0e86.png" alt="solar"><p>useTitle的hooks</p><img src="/assets/bk255.bcc6be9e.png" alt="solar"><p>useScrollPostion用来监测浏览器页面的滚动情况</p><img src="/assets/bk256.a64e7917.png" alt="solar"><p>useMousemove监听鼠标位置的hook</p><img src="/assets/bk257.3a690dad.png" alt="solar"><p>useLocalStorage可以本地存储</p><img src="/assets/bk258.92a2f4c7.png" alt="solar"><h2 id="定义全局函数和变量" tabindex="-1"><a class="header-anchor" href="#定义全局函数和变量" aria-hidden="true">#</a> 定义全局函数和变量</h2><p>Vue3 的<a href="https://so.csdn.net/so/search?q=%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">全局变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>目前百度前面的全部是采用先</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$axios <span class="token operator">=</span> $axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>随后利用 getCurrentInstance 取得 ctx 或 proxy 来获取全局变量的</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ctx <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> any
ctx<span class="token punctuation">.</span>$axios<span class="token punctuation">.</span>get
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>但事实上官方是不建议应用使用 getCurrentInstance 方法的，</p><p>所以我更加推荐以下的方法去存储和获取全局变量，即<a href="https://so.csdn.net/so/search?q=%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">依赖注入<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的方式</p><p>首先在 main.js 中</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
 
<span class="token comment">// 配置全局变量 页面中使用 inject 接收</span>
app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;global&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  store<span class="token punctuation">,</span>
  axios
<span class="token punctuation">}</span><span class="token punctuation">)</span>
 
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将多个变量混同时注入的目的是为了减小依赖注册及接受的工作量</p><p>在需要接受的页面使用 inject 接受 （<strong>js项目请去掉类型声明</strong>）</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
 
<span class="token comment">// 获取全局对象`</span>
<span class="token keyword">const</span> <span class="token literal-property property">global</span><span class="token operator">:</span>any <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;global&#39;</span><span class="token punctuation">)</span>
 
<span class="token doc-comment comment">/**目前标准异步写法 */</span>
global<span class="token punctuation">.</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token string">&#39;/harmony/getType&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">result</span><span class="token operator">:</span>any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">{</span>
    list<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>data
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">err</span><span class="token operator">:</span>any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>采用这种方法在全局变量的创建上会更加的方便。</p><h2 id="pinia的使用" tabindex="-1"><a class="header-anchor" href="#pinia的使用" aria-hidden="true">#</a> pinia的使用</h2><h3 id="pinia介绍" tabindex="-1"><a class="header-anchor" href="#pinia介绍" aria-hidden="true">#</a> pinia介绍</h3><ul><li><p>Pinia 是一个状态管理库，由 Vue 核心团队维护，对 Vue 2 和 Vue 3 都可用。</p></li><li><p>现有用户可能对 Vuex 更熟悉，它是 Vue 之前的官方状态管理库。由于 Pinia 在生态系统中能够承担相同的职责且能做得更好，因此 Vuex 现在处于维护模式。它仍然可以工作，但不再接受新的功能。对于新的应用程序，建议使用 Pinia。</p></li><li><p>事实上，Pinia 这款产品最初是为了探索 Vuex 的下一个版本，整合了核心团队关于 Vuex 5 的许多想法。最终，我们意识到 Pinia 已经实现了我们想要在 Vuex 5 中提供的大部分内容，因此决定将其作为新的官方推荐。</p></li><li><p>相比于 Vuex，Pinia提供了更简洁直接的 API，并提供了组合式风格的 API，最重要的是，在使用 TypeScript 时它提供了非常好的类型推导。</p></li></ul><h3 id="pinia特点" tabindex="-1"><a class="header-anchor" href="#pinia特点" aria-hidden="true">#</a> pinia特点</h3><p>Pinia.js 有如下特点：</p><ul><li>完整的 ts 的支持；</li><li>足够轻量，压缩后的体积只有1kb左右;</li><li>去除 mutations，只有 state，getters，actions；</li><li>actions 支持同步和异步；</li><li>代码扁平化没有模块嵌套，只有 store 的概念，store 之间可以自由使用，每一个store都是独立的</li><li>无需手动添加 store，store 一旦创建便会自动添加；</li><li>支持Vue3 和 Vue2</li></ul><p>官方文档 <a href="https://pinia.vuejs.org/" target="_blank" rel="noopener noreferrer">Pinia<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>git 地址 [<a href="https://github.com/vuejs/pinia" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/pinia<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>](</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>yarn add pinia

npm install pinia
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="main文件引入" tabindex="-1"><a class="header-anchor" href="#main文件引入" aria-hidden="true">#</a> main文件引入</h3><p>vue3 main.ts引入</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./assets/global.css&#39;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue2 main.js引入</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia<span class="token punctuation">,</span> PiniaVuePlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>PiniaVuePlugin<span class="token punctuation">)</span>
<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// other options...</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// note the same `pinia` instance can be used across multiple Vue apps on</span>
  <span class="token comment">// the same page</span>
  pinia<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="新建store文件夹" tabindex="-1"><a class="header-anchor" href="#新建store文件夹" aria-hidden="true">#</a> 新建Store文件夹</h3><p>定义仓库Store</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>我们需要知道存储是使用定义的defineStore()，并且它需要一个唯一的名称，作为第一个参数传递</p><p>我这儿名称抽离出去了</p><p>在store文件夹中新建name.ts文件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token keyword">enum</span> Names <span class="token punctuation">{</span>
    Test <span class="token operator">=</span> <span class="token string">&#39;TEST&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>store/index.ts引入</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Names <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store-namespace&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTestStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>Names<span class="token punctuation">.</span>Test<span class="token punctuation">,</span> <span class="token punctuation">{</span>
 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>State 箭头函数 返回一个对象 在对象里面定义值</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Names <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./name&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTestStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>Names<span class="token punctuation">.</span>Test<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">11</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//类似于computed 可以帮我们去修饰我们的值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//可以操作异步 和 同步提交state</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="页面中使用" tabindex="-1"><a class="header-anchor" href="#页面中使用" aria-hidden="true">#</a> 页面中使用</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.age }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span>current<span class="token operator">++</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><p>在他的实例上有$patch方法可以批量修改多个值</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.age }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">300</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><p>推荐使用函数形式 可以自定义修改逻辑</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.age }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>current<span class="token operator">++</span><span class="token punctuation">;</span>
      state<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><p>$state您可以通过将store的属性设置为新对象来替换store的整个状态</p><p>缺点就是必须修改整个对象的所有属性</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.age }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span>$state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><h3 id="定义actions" tabindex="-1"><a class="header-anchor" href="#定义actions" aria-hidden="true">#</a> 定义Actions</h3><p>在actions 中直接使用this就可以指到state里面的值</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Names <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./name&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTestStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>Names<span class="token punctuation">.</span>Test<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">11</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//类似于computed 可以帮我们去修饰我们的值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//可以操作异步 和 同步提交state</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">setCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token operator">++</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用方法直接在实例调用</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.age }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span><span class="token function">setCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><h3 id="解构store" tabindex="-1"><a class="header-anchor" href="#解构store" aria-hidden="true">#</a> 解构store</h3><p>在Pinia是不允许直接解构是会失去响应性的</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Test <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> current<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> Test
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>差异对比</p><p>修改Test current 解构完之后的数据不会变</p><p>而源数据是会变的</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>origin value {
      {cont.current}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      pinia:{{ current }}--{{ age }}
      change :
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>change<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>

<span class="token keyword">const</span> cont <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   cont<span class="token punctuation">.</span>current<span class="token operator">++</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> current<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> cont

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>


</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案可以使用storeToRefs</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> App<span class="token punctuation">.</span>vue <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">const</span> Test <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> current<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>Test<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其原理跟toRefs 一样的给里面的数据包裹一层toref</p><p>源码 通过toRaw使store变回原始数据防止重复代理</p><p>循环store 通过 isRef isReactive 判断 如果是响应式对象直接拷贝一份给refs 对象 将其原始对象包裹toRef 使其变为响应式对象</p><h3 id="actions-getters" tabindex="-1"><a class="header-anchor" href="#actions-getters" aria-hidden="true">#</a> Actions，getters</h3><h4 id="actions" tabindex="-1"><a class="header-anchor" href="#actions" aria-hidden="true">#</a> Actions</h4><p>1.同步 直接调用即可</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Names <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./name&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTestStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>Names<span class="token punctuation">.</span>Test<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//类似于computed 可以帮我们去修饰我们的值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//可以操作异步 和 同步提交state</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">randomizeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.current }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span><span class="token function">randomizeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><p>2.异步 可以结合async await 修饰</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Names <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./name&#39;</span>
type Result <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> string
    <span class="token literal-property property">isChu</span><span class="token operator">:</span> boolean
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Login <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span>Result<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;小满&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">isChu</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useTestStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span>Names<span class="token punctuation">.</span>Test<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Result<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//类似于computed 可以帮我们去修饰我们的值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//可以操作异步 和 同步提交state</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">getLoginInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
         {{ count.user }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>ts<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTestStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useTestStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   count<span class="token punctuation">.</span><span class="token function">getLoginInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="data:image/png;base64,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" alt="solar"><p>3.多个action互相调用getLoginInfo setName</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Result<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token keyword">async</span> <span class="token function">getLoginInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> result<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function">setName</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="getters" tabindex="-1"><a class="header-anchor" href="#getters" aria-hidden="true">#</a> getters</h4><p>1.使用箭头函数不能使用this this指向已经改变指向undefined 修改值请用state</p><p>主要作用类似于computed 数据修饰并且有缓存</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
   <span class="token function-variable function">newPrice</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>price<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.普通函数形式可以使用this</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
   <span class="token function">newCurrent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>number <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>current
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.getters 互相调用</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">newCurrent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>number <span class="token operator">|</span> string <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>newName
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">newName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>string <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h3><p>重置store到他的初始状态</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Result<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">current</span><span class="token operator">:</span><span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vue 例如我把值改变到了10</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     count<span class="token punctuation">.</span>current<span class="token operator">++</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>调用$reset();</p><p>将会把state所有值 重置回 原始状态</p><p>类似于Vuex 的abscribe 只要有state 的变化就会走这个函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>count<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span>state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第二个参数</strong></p><p>如果你的组件卸载之后还想继续调用请设置第二个参数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>count<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span>state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token literal-property property">detached</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只要有actions被调用就会走这个函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>count<span class="token punctuation">.</span><span class="token function">$onAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="存储状态并持久化存储" tabindex="-1"><a class="header-anchor" href="#存储状态并持久化存储" aria-hidden="true">#</a> 存储状态并持久化存储</h3><p>pinia 和 vuex 都有一个通病 页面刷新状态会丢失</p><p><strong>安装 pinia-persistedstate-plugin</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install pinia<span class="token operator">-</span>persistedstate<span class="token operator">-</span>plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>main.ts文件修改</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./style.css&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPersistedState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia-persistedstate-plugin&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPersistedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后使用pinia刷新页面就不会出现状态消失了</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/src/前端/vue3教程/README.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2023/3/12 14:32:52</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 3119125794@qq.com">jitems</span><!--]--><!--]--></div></footer><nav class="page-nav"><!----><a href="/%E5%89%8D%E7%AB%AF/vue3%E6%95%99%E7%A8%8B/%E8%8E%B7%E5%8F%96dom%E6%A0%87%E7%AD%BE%E9%AB%98%E5%BA%A6.html" class="nav-link next" aria-label="获取dom标签高度"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">获取dom标签高度<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">真正坚持到最后的人，往往靠的不是短暂的激情，而是恰到好处的喜欢和投入。</div><div class="copyright">Copyright © 2023 向前有光</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.73ec3e73.js" defer></script>
  </body>
</html>

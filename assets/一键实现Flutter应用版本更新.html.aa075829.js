import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as c,o,c as l,b as n,d as t,a as p,e as s}from"./app.73ec3e73.js";var i="/assets/bk363.198f3c77.png",u="/assets/bk364.1710ee35.png",k="/assets/bk365.16e7fb1b.png",d="/assets/bk366.48bed5be.png",r="/assets/bk367.b960eaf6.png",v="data:image/png;base64,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",m="/assets/bk369.3cb28da8.png",b="/assets/bk370.f2a54806.png",g="/assets/bk371.0bd9a30e.png",h="/assets/bk372.e9a8bb37.png";const f={},U=p('<h1 id="\u4E00\u952E\u5B9E\u73B0flutter\u5E94\u7528\u7248\u672C\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#\u4E00\u952E\u5B9E\u73B0flutter\u5E94\u7528\u7248\u672C\u66F4\u65B0" aria-hidden="true">#</a> \u4E00\u952E\u5B9E\u73B0Flutter\u5E94\u7528\u7248\u672C\u66F4\u65B0</h1><h2 id="\u6F14\u793A" tabindex="-1"><a class="header-anchor" href="#\u6F14\u793A" aria-hidden="true">#</a> \u6F14\u793A</h2><img src="'+i+'" alt="solar"><ul><li>\u9ED8\u8BA4\u7248\u672C\u66F4\u65B0</li></ul><img src="'+u+'" alt="solar"><ul><li>\u652F\u6301\u540E\u53F0\u66F4\u65B0</li></ul><img src="'+k+'" alt="solar"><ul><li>\u5C4F\u5E55\u5BBD\u9AD8\u6BD4\u9650\u5236\u663E\u793A\u66F4\u65B0</li></ul><img src="'+d+'" alt="solar"><ul><li>\u5F3A\u5236\u66F4\u65B0</li></ul><img src="'+r+'" alt="solar"><ul><li>\u81EA\u5B9A\u4E49\u66F4\u65B0\u63D0\u793A\u5F39\u7A97\u6837\u5F0F</li></ul><img src="'+v+`" alt="solar"><h2 id="\u521B\u5EFA\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u9879\u76EE" aria-hidden="true">#</a> \u521B\u5EFA\u9879\u76EE</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>flutter create  \u9879\u76EE\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5B89\u88C5\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u4F9D\u8D56" aria-hidden="true">#</a> \u5B89\u88C5\u4F9D\u8D56</h2><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>flutter_xupdate<span class="token punctuation">:</span> <span class="token operator">^</span><span class="token number">2.0</span><span class="token number">.3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,17),y={href:"https://pub.flutter-io.cn/packages/flutter_xupdate/install",target:"_blank",rel:"noopener noreferrer"},x=s("flutter_xupdate\u63D2\u4EF6\u5730\u5740"),q={href:"https://juejin.cn/post/6844904129328857095",target:"_blank",rel:"noopener noreferrer"},w=s("\u535A\u5BA2\u5730\u5740"),A=p(`<h2 id="android\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#android\u8BBE\u7F6E" aria-hidden="true">#</a> Android\u8BBE\u7F6E</h2><p>xupdate\u9700\u8981\u6211\u4EEC\u5C06android\u4E3B\u9898\u4FEE\u6539\u4E3AAppCompat\uFF0C\u6253\u5F00\u6587\u4EF6\uFF1Aandroid/app/src/main/res/values/styles.xml\uFF0C\u5C06LaunchTheme\u4E3B\u9898\u4FEE\u6539\u4E3ATheme.AppCompat.Light.NoActionBar\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LaunchTheme<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.AppCompat.Light.NoActionBar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:windowBackground<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>@drawable/launch_background<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u521D\u59CB\u5316\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u521D\u59CB\u5316\u63D2\u4EF6" aria-hidden="true">#</a> \u521D\u59CB\u5316\u63D2\u4EF6</h2><ul><li>\u8C03\u7528FlutterXUpdate.init\u65B9\u6CD5\u8FDB\u884C\u521D\u59CB\u5316</li><li>\u8C03\u7528FlutterXUpdate.setErrorHandler\u65B9\u6CD5\u8BBE\u7F6E\u9519\u8BEF\u76D1\u542C</li></ul><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter_xupdate/flutter_xupdate.dart&#39;</span></span><span class="token punctuation">;</span>

   <span class="token comment">///\u521D\u59CB\u5316</span>
   <span class="token keyword">void</span> <span class="token function">initXUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>
         <span class="token comment">///\u662F\u5426\u8F93\u51FA\u65E5\u5FD7</span>
         debug<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
         <span class="token comment">///\u662F\u5426\u4F7F\u7528post\u8BF7\u6C42</span>
         isPost<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token comment">///post\u8BF7\u6C42\u662F\u5426\u662F\u4E0A\u4F20json</span>
         isPostJson<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token comment">///\u662F\u5426\u5F00\u542F\u81EA\u52A8\u6A21\u5F0F</span>
         isWifiOnly<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token comment">///\u662F\u5426\u5F00\u542F\u81EA\u52A8\u6A21\u5F0F</span>
         isAutoMode<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token comment">///\u9700\u8981\u8BBE\u7F6E\u7684\u516C\u5171\u53C2\u6570</span>
         supportSilentInstall<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token comment">///\u5728\u4E0B\u8F7D\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u70B9\u51FB\u4E86\u53D6\u6D88\u7684\u8BDD\uFF0C\u662F\u5426\u5F39\u51FA\u5207\u6362\u4E0B\u8F7D\u65B9\u5F0F\u7684\u91CD\u8BD5\u63D0\u793A\u5F39\u7A97</span>
         enableRetry<span class="token punctuation">:</span> <span class="token boolean">false</span>
       <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">updateMessage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;\u521D\u59CB\u5316\u6210\u529F: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">value</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">setErrorHandler</span><span class="token punctuation">(</span>
           onUpdateError<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> message<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           _message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">message</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token function">updateMessage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;ios\u6682\u4E0D\u652F\u6301XUpdate\u66F4\u65B0&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u66F4\u65B0\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#\u66F4\u65B0\u5E94\u7528" aria-hidden="true">#</a> \u66F4\u65B0\u5E94\u7528</h2><p>xupdate\u6700\u4E3B\u8981\u7684\u65B9\u6CD5\u5C31\u662FcheckUpdate\uFF0C\u5728\u505A\u597D\u521D\u59CB\u5316\u548C\u670D\u52A1\u7AEF\u7684\u5904\u7406\u540E\uFF0C\u53EA\u9700\u8981\u4E00\u884C\u4EE3\u7801\u5373\u53EF\u5B8C\u6210\u5728\u7EBF\u66F4\u65B0\uFF0C\u652F\u6301\u540E\u53F0\u66F4\u65B0\uFF0C\u9759\u9ED8\u5B89\u88C5\u9700\u8981\u6709root\u6743\u9650\uFF0C\u9759\u9ED8\u5B89\u88C5\u5C31\u7B97\u4E86\uFF0C\u73B0\u5728Android \u7684\u6743\u9650\u63A7\u5236\u8D8A\u6765\u8D8A\u591A\uFF0C\u5F88\u96BE\u505A\u5230\u9759\u9ED8\u5B89\u88C5\u4E86\u3002\u6211\u4EEC\u6709\u4E00\u4E9B\u5E94\u7528\u548C\u4E00\u4E9B\u8BBE\u5907\u7684\u5C0F\u5382\u5408\u4F5C\uFF0C\u5728\u51FA\u5382\u65F6\u5C31\u5185\u7F6E\uFF0C\u8FD9\u4E2A\u65F6\u5019\u7528\u8FD9\u4E2A\u9759\u9ED8\u5B89\u88C5\u5C31\u5F88\u8212\u670D\u4E86\u3002</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token comment">///\u9ED8\u8BA4App\u66F4\u65B0</span>
  <span class="token keyword">void</span> <span class="token function">checkUpdateDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">///\u9ED8\u8BA4App\u66F4\u65B0 + \u652F\u6301\u540E\u53F0\u66F4\u65B0</span>
  <span class="token keyword">void</span> <span class="token function">checkUpdateSupportBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">,</span> supportBackgroundUpdate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
   <span class="token comment">///\u8C03\u6574\u5BBD\u9AD8\u6BD4\u663E\u793A\u7684\u7248\u672C\u66F4\u65B0</span>
  <span class="token keyword">void</span> <span class="token function">checkUpdateSupportBackgrounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">,</span> widthRatio<span class="token punctuation">:</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">///\u81EA\u52A8\u6A21\u5F0F, \u5982\u679C\u9700\u8981\u5B8C\u5168\u65E0\u4EBA\u5E72\u9884\uFF0C\u81EA\u52A8\u66F4\u65B0\uFF0C\u9700\u8981root\u6743\u9650\u3010\u9759\u9ED8\u5B89\u88C5\u9700\u8981\u3011</span>
  <span class="token keyword">void</span> <span class="token function">checkUpdateAutoMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">,</span> isAutoMode<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u51C6\u5907\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u51C6\u5907\u6570\u636E" aria-hidden="true">#</a> \u51C6\u5907\u6570\u636E</h2><p>\u5BF9\u4E8E\u5728\u7EBF\u66F4\u65B0\u7684\u63D2\u4EF6\u57FA\u672C\u6D41\u7A0B\u90FD\u662F\u4E00\u81F4\u7684\uFF0C\u5BA2\u6237\u7AEF\u5728\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u83B7\u53D6\u66F4\u65B0\u6570\u636E\uFF0C\u670D\u52A1\u7AEF\u5C06\u6700\u65B0\u7684\u7248\u672C\u4FE1\u606F\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF08\u4E00\u822C\u90FD\u662Fjson\u683C\u5F0F\uFF09\uFF0C\u5BA2\u6237\u7AEF\u5206\u6790json\u6587\u4EF6\uFF0C\u67E5\u770B\u672C\u5730\u7248\u672C\u662F\u4E0D\u662F\u5DF2\u7ECF\u8FC7\u65F6\u4E86\uFF0C\u5982\u679C\u8FC7\u65F6\u5219\u4E0B\u8F7Dapk\u5E76\u8FDB\u884C\u5B89\u88C5\uFF0C\u5982\u679C\u6CA1\u6709\u8FC7\u65F6\u5219\u653E\u5F03\u3002\u8FD9\u91CC\u80FD\u591F\u6269\u5C55\u7684\u4E1A\u52A1\u6709\u66F4\u65B0\u5185\u5BB9\uFF0C\u662F\u5426\u5F3A\u5236\u66F4\u65B0\u7B49\u3002xupdate\u4E5F\u662F\u8FD9\u6837\u4E00\u4E2A\u8FC7\u7A0B\uFF0C\u4F5C\u8005\u9ED8\u8BA4\u63D0\u4F9B\u4E86\u4E00\u4E2Ajson\u6587\u4EF6\u7684\u683C\u5F0F\u5305\u62EC\u5BF9\u5E94\u7684model\uFF0C\u5982\u679C\u6709\u7279\u6B8A\u9700\u6C42\u4E5F\u652F\u6301\u81EA\u5B9A\u4E49json\u683C\u5F0F\u3002\u4E00\u822C\u7684\u4E1A\u52A1\u9ED8\u8BA4\u7684json\u5C31\u591F\u7528\u4E86\u3002</p><p>\u9ED8\u8BA4\u7684json\u5185\u5BB9</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token punctuation">{</span>
  <span class="token string-literal"><span class="token string">&quot;Code&quot;</span></span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//0\u4EE3\u8868\u8BF7\u6C42\u6210\u529F\uFF0C\u975E0\u4EE3\u8868\u5931\u8D25</span>
  <span class="token string-literal"><span class="token string">&quot;Msg&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">,</span> <span class="token comment">//\u8BF7\u6C42\u51FA\u9519\u7684\u4FE1\u606F</span>
  <span class="token string-literal"><span class="token string">&quot;UpdateStatus&quot;</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//0\u4EE3\u8868\u4E0D\u66F4\u65B0\uFF0C1\u4EE3\u8868\u6709\u7248\u672C\u66F4\u65B0\uFF0C\u4E0D\u9700\u8981\u5F3A\u5236\u5347\u7EA7\uFF0C2\u4EE3\u8868\u6709\u7248\u672C\u66F4\u65B0\uFF0C\u9700\u8981\u5F3A\u5236\u5347\u7EA7</span>
  <span class="token string-literal"><span class="token string">&quot;VersionCode&quot;</span></span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//\u7F16\u8BD1\u7248\u672C\u53F7(\u552F\u4E00)</span>
  <span class="token string-literal"><span class="token string">&quot;VersionName&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;1.0.2&quot;</span></span><span class="token punctuation">,</span> <span class="token comment">//\u7248\u672C\u540D(\u7528\u4E8E\u5C55\u793A)</span>
  <span class="token string-literal"><span class="token string">&quot;ModifyContent&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;1\u3001\u4F18\u5316api\u63A5\u53E3\u3002\\r\\n2\u3001\u6DFB\u52A0\u4F7F\u7528demo\u6F14\u793A\u3002\\r\\n3\u3001\u65B0\u589E\u81EA\u5B9A\u4E49\u66F4\u65B0\u670D\u52A1API\u63A5\u53E3\u3002\\r\\n4\u3001\u4F18\u5316\u66F4\u65B0\u63D0\u793A\u754C\u9762\u3002&quot;</span></span><span class="token punctuation">,</span> <span class="token comment">//\u66F4\u65B0\u5185\u5BB9</span>
  <span class="token string-literal"><span class="token string">&quot;DownloadUrl&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;https://raw.githubusercontent.com/xuexiangjys/XUpdate/master/apk/xupdate_demo_1.0.2.apk&quot;</span></span><span class="token punctuation">,</span><span class="token comment">// \u6587\u4EF6\u4E0B\u8F7D\u5730\u5740</span>
  <span class="token string-literal"><span class="token string">&quot;ApkSize&quot;</span></span><span class="token punctuation">:</span> <span class="token number">2048</span><span class="token punctuation">,</span> <span class="token comment">//\u6587\u4EF6\u7684\u5927\u5C0F(\u5355\u4F4D:kb)</span>
  <span class="token string-literal"><span class="token string">&quot;ApkMd5&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;e2eedae8d50b4454dbf219ea426548a3&quot;</span></span>  <span class="token comment">//md5\u503C\u6CA1\u6709\u7684\u8BDD\uFF0C\u5C31\u65E0\u6CD5\u4FDD\u8BC1apk\u662F\u5426\u5B8C\u6574\uFF0C\u6BCF\u6B21\u90FD\u4F1A\u91CD\u65B0\u4E0B\u8F7D\u3002\u6846\u67B6\u9ED8\u8BA4\u4F7F\u7528\u7684\u662Fmd5\u52A0\u5BC6\u3002</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u6709\u4E00\u4E2Aapk\u7684md5\uFF0C\u4F5C\u8005\u5BF9md5\u503C\u7684\u63CF\u8FF0\u662F\u8FD9\u6837\u7684\uFF1A</p>`,14),X=s("\u8FD9\u91CC\u9700\u8981\u8BF4\u660E\u7684\u662F\uFF0C\u8FD9\u91CC\u586B\u5199\u7684MD5\u503C\u662FAPK\u6587\u4EF6\u8FDB\u884CMD5\u52A0\u5BC6\u540E\u7684\u503C\uFF0C\u5E76\u4E0D\u662F\u5BF9APK\u7B7E\u540D\u7684MD5\u3002\u6846\u67B6\u9ED8\u8BA4\u4F7F\u7528\u7684\u662FMD5\u52A0\u5BC6\uFF0C\u5982\u679C\u4F60\u89C9\u5F97\u4E0D\u591F\u5B89\u5168\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5176\u4ED6\u52A0\u5BC6\u65B9\u5F0F\uFF0C\u4E0D\u8FC7\u8FD9\u53EF\u80FD\u6D89\u53CA\u5230\u539F\u751F\u7684\u7F16\u7801\uFF0C\u8BE6\u60C5\u53C2\u89C1\uFF1A"),V={href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fxuexiangjys%2FXUpdate%2Fwiki%2F%E9%AB%98%E9%98%B6%E4%BD%BF%E7%94%A8%23%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E5%8A%A0%E5%AF%86%E6%A0%A1%E9%AA%8C%E5%99%A8",target:"_blank",rel:"noopener noreferrer"},T=s("\u81EA\u5B9A\u4E49\u6587\u4EF6\u52A0\u5BC6\u6821\u9A8C\u5668"),S=s("."),F=p('<p>\u5982\u679C\u4E0D\u60F3\u4F7F\u7528MD5\u7684\u8BDD\u5C31\u4E0D\u9700\u8981\u914D\u7F6E\u8FD9\u4E2A\u5B57\u6BB5\uFF0C\u4E0D\u8FC7\u8FD9\u6837\u6BCF\u6B21\u68C0\u67E5\u7684\u8BDD\u90FD\u4F1A\u53BB\u91CD\u65B0\u4E0B\u8F7DAPK,\u5EFA\u8BAE\u914D\u7F6E\u3002</p><h2 id="\u5F00\u59CB\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#\u5F00\u59CB\u66F4\u65B0" aria-hidden="true">#</a> \u5F00\u59CB\u66F4\u65B0</h2><h3 id="_1\u3001\u521B\u5EFA\u6587\u4EF6\u5939\u53CA\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u521B\u5EFA\u6587\u4EF6\u5939\u53CA\u6587\u4EF6" aria-hidden="true">#</a> 1\u3001\u521B\u5EFA\u6587\u4EF6\u5939\u53CA\u6587\u4EF6</h3><img src="'+m+`" alt="solar"><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:io&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter_xupdate/flutter_xupdate.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/material.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Xupdate</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">Xupdate</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Xupdate</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_XupdateState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _XupdateState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Xupdate</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">//\u521D\u59CB\u5316XUpdate</span>
  <span class="token keyword">void</span> <span class="token function">initXUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>
        <span class="token comment">//\u662F\u5426\u8F93\u51FA\u65E5\u5FD7</span>
          debug<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token comment">//\u662F\u5426\u4F7F\u7528post\u8BF7\u6C42</span>
          isPost<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">//post\u8BF7\u6C42\u662F\u5426\u662F\u4E0A\u4F20json</span>
          isPostJson<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">//\u8BF7\u6C42\u54CD\u5E94\u8D85\u65F6\u65F6\u95F4</span>
          timeout<span class="token punctuation">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
          <span class="token comment">//\u662F\u5426\u5F00\u542F\u81EA\u52A8\u6A21\u5F0F</span>
          isWifiOnly<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">//\u662F\u5426\u5F00\u542F\u81EA\u52A8\u6A21\u5F0F</span>
          isAutoMode<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">//\u9700\u8981\u8BBE\u7F6E\u7684\u516C\u5171\u53C2\u6570</span>
          supportSilentInstall<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">//\u5728\u4E0B\u8F7D\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u70B9\u51FB\u4E86\u53D6\u6D88\u7684\u8BDD\uFF0C\u662F\u5426\u5F39\u51FA\u5207\u6362\u4E0B\u8F7D\u65B9\u5F0F\u7684\u91CD\u8BD5\u63D0\u793A\u5F39\u7A97</span>
          enableRetry<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;\u521D\u59CB\u5316\u6210\u529F: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">value</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">setErrorHandler</span><span class="token punctuation">(</span>
          onUpdateError<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> message<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">debugPrint</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;ios\u6682\u4E0D\u652F\u6301XUpdate\u66F4\u65B0&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521D\u59CB\u5316\u65B9\u6CD5</span>
    <span class="token function">initXUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u5347\u7EA7\u4FE1\u606F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u63A5\u53E3\u65B9\u5F0F</span>
  <span class="token keyword">final</span> _updateUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;https://vkceyugu.cdn.bspapp.com/VKCEYUGU-cc878a75-2a2d-4a3c-abcf-2938e3f4037f/b27ac73b-d66b-4268-857a-e98ec34fc9f5.json&quot;</span></span><span class="token punctuation">;</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>
        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;XUpdate\u6F14\u793A&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;\u9ED8\u8BA4\u66F4\u65B0&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">FlutterXUpdate</span><span class="token punctuation">.</span><span class="token function">checkUpdate</span><span class="token punctuation">(</span>
                  url<span class="token punctuation">:</span> _updateUrl<span class="token punctuation">,</span>
                  supportBackgroundUpdate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;\u652F\u6301\u540E\u53F0\u66F4\u65B0&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001main-dart\u8C03\u7528\u5347\u7EA7\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2\u3001main-dart\u8C03\u7528\u5347\u7EA7\u6587\u4EF6" aria-hidden="true">#</a> 2\u3001main.dart\u8C03\u7528\u5347\u7EA7\u6587\u4EF6</h3><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/material.dart&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter_star/xupdate/Xupdate.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
      title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;Flutter Demo&#39;</span></span><span class="token punctuation">,</span>
      theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
        primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">//\u8FD9\u91CC\u8C03\u7528\u5347\u7EA7\u6587\u4EF6</span>
      home<span class="token punctuation">:</span> <span class="token class-name">Xupdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3\u3001\u4F7F\u7528\u7ED3\u679C" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u4F7F\u7528\u7ED3\u679C" aria-hidden="true">#</a> 3\u3001\u4F7F\u7528\u7ED3\u679C</h3><p>\u9ED8\u8BA4APP\u66F4\u65B0</p><img src="`+b+'" alt="solar"><p>\u652F\u6301\u540E\u53F0\u66F4\u65B0</p><img src="'+g+'" alt="solar"><p>\u542F\u7528\u540E\u53F0\u66F4\u65B0</p><img src="'+h+`" alt="solar"><h2 id="\u6587\u4EF6md5\u503C\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u6587\u4EF6md5\u503C\u8BA1\u7B97" aria-hidden="true">#</a> \u6587\u4EF6MD5\u503C\u8BA1\u7B97</h2><p>\u4F7F\u7528Dart\u83B7\u53D6MD5\u4E5F\u5F88\u7B80\u5355\u3002</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;dart:io&#39;</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:crypto/crypto.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token class-name">Apk</span>\u6587\u4EF6\u5730\u5740<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span>md5<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">readAsBytesSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u67E5\u770B\u7248\u672C\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u7248\u672C\u4FE1\u606F" aria-hidden="true">#</a> \u67E5\u770B\u7248\u672C\u4FE1\u606F</h2><p>\u5F15\u5165\u63D2\u4EF6</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>dependencies<span class="token punctuation">:</span>
  package_info_plus<span class="token punctuation">:</span> <span class="token operator">^</span><span class="token number">1.4</span><span class="token number">.2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7F16\u5199\u83B7\u53D6\u4FE1\u606F\u7684\u65B9\u6CD5</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">initVersionInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token class-name">PackageInfo</span> packageInfo <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">PackageInfo</span><span class="token punctuation">.</span><span class="token function">fromPlatform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    appName <span class="token operator">=</span> packageInfo<span class="token punctuation">.</span>appName<span class="token punctuation">;</span>
    packageName <span class="token operator">=</span> packageInfo<span class="token punctuation">.</span>packageName<span class="token punctuation">;</span>
    version <span class="token operator">=</span> packageInfo<span class="token punctuation">.</span>version<span class="token punctuation">;</span>
    buildNumber <span class="token operator">=</span> packageInfo<span class="token punctuation">.</span>buildNumber<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u521D\u59CB\u5316\u6570\u636E</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>
      <span class="token class-name">Duration</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">initVersionInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initXUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5C55\u793A\u6570\u636E</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;appName: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">appName</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;packageName: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">packageName</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;version: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">version</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;buildNumber: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">buildNumber</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26);function _(M,N){const a=c("ExternalLinkIcon");return o(),l("div",null,[U,n("p",null,[n("a",y,[x,t(a)])]),n("p",null,[n("a",q,[w,t(a)])]),A,n("p",null,[X,n("a",V,[T,t(a)]),S]),F])}var I=e(f,[["render",_],["__file","\u4E00\u952E\u5B9E\u73B0Flutter\u5E94\u7528\u7248\u672C\u66F4\u65B0.html.vue"]]);export{I as default};

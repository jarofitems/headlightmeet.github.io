import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as c,c as i,b as n,d as t,e as s,a as p}from"./app.73ec3e73.js";const l={},u=n("h1",{id:"\u62E6\u622A\u5668\u4E4B\u53EF\u62E6\u622Atabbar\u5207\u6362",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u62E6\u622A\u5668\u4E4B\u53EF\u62E6\u622Atabbar\u5207\u6362","aria-hidden":"true"},"#"),s(" \u62E6\u622A\u5668\u4E4B\u53EF\u62E6\u622Atabbar\u5207\u6362")],-1),r=s("\u5B98\u7F51\u6587\u6863\uFF1A"),d={href:"https://uniapp.dcloud.net.cn/api/interceptor.html",target:"_blank",rel:"noopener noreferrer"},k=s("uni.addInterceptor(STRING, OBJECT) | uni-app\u5B98\u7F51"),v=p(`<p>uni-app \u63D0\u4F9B\u4E86uni.addInterceptor()\u62E6\u622A\u5668\u4E3B\u8981\u7528\u4E8E\uFF1A</p><ol><li>\u62E6\u622Aapi\u8BF7\u6C42</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>uni<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// request \u89E6\u53D1\u524D\u62FC\u63A5 url </span>
    args<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">&#39;https://www.example.com/&#39;</span><span class="token operator">+</span>args<span class="token punctuation">.</span>url
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u6210\u529F\u540E\uFF0C\u4FEE\u6539code\u503C\u4E3A1</span>
    args<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token function">fail</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;interceptor-fail&#39;</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token function">complete</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;interceptor-complete&#39;</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u4E00\u4E9B\u539F\u751F\u8C03\u8D77\u64CD\u4F5C\uFF08\u5982\u8BBF\u95EE\u76F8\u518C\u7B49\u64CD\u4F5C\u6743\u9650\u524D\u83B7\u53D6\u5F53\u524D\u8BBE\u5907\u662F\u5426\u6388\u6743\u6765\u6765\u5904\u7406\u76F8\u5E94\u64CD\u4F5C\uFF09</li></ol>`,4),m={href:"https://ext.dcloud.net.cn/plugin?id=5095",target:"_blank",rel:"noopener noreferrer"},b=s("\u62E6\u622A\u5668\u5E94\u7528\u793A\u4F8B \u2014 \u56FE\u7247\u9009\u62E9"),_=p(`<ol start="3"><li>\u6BD4\u8F83\u5E38\u89C1\u7684\u573A\u666F\uFF1A</li></ol><p>\u5982\u672A\u767B\u5F55\u65F6\u8DF3\u8F6C\u5176\u4ED6\u9875\u9762\u90FD\u4F1A\u8DF3\u8F6C\u5230\u767B\u5F55\u9875\u8BA9\u7528\u6237\u5148\u767B\u5F55</p><p>\u5E38\u7528\u7684\u5B9E\u73B0\u65B9\u6CD5\u53EF\u80FD\u662F\u5728uni.navigateTo\u7B49\u8DEF\u7531\u8DF3\u8F6C\u524D\u53BB\u5224\u65AD\u7528\u6237\u662F\u5426\u767B\u5F55\uFF0C\u6216\u8005\u662F</p><p>\u5728\u6253\u5F00\u9875\u9762\u540E\u7684onShow()\u91CC\u9762\u53BB\u5224\u65AD\u7528\u6237\u662F\u5426\u767B\u5F55\uFF0C\u672A\u767B\u5F55\u65F6uni.redirectTo()\u56DE\u5230\u767B\u5F55\u9875</p><p>\u5982\u679C\u9875\u9762\u4F7F\u7528tabbar \u60F3\u5207\u6362tabbar\u7684\u65F6\u5019\u53BB\u5224\u65AD\u5C31\u53EF\u4EE5\u4F7F\u7528uni.addInterceptor\u6765\u5B9E\u73B0</p><p>\u4F8B\u5B50\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u9875\u9762\u62E6\u622Atabbar\uFF0C\u975E\u767B\u5F55\u72B6\u6001\u9875\u9996\u9875\u8DF3\u8F6C\u767B\u5F55\u9875\u767B\u5F55</span>
uni<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token string">&#39;switchTab&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token comment">// tabbar\u9875\u9762\u8DF3\u8F6C\u524D\u8FDB\u884C\u62E6\u622A</span>
	<span class="token function">invoke</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;STORAGE_KEY_TOKEN&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>url<span class="token operator">!=</span><span class="token string">&quot;/pages/login/login&quot;</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>url<span class="token operator">!=</span><span class="token string">&quot;/pages/homepage/homepage&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			uni<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/pages/login/login&#39;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">success</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// console.log(e)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function g(f,h){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,n("p",null,[r,n("a",d,[k,t(a)])]),v,n("p",null,[n("a",m,[b,t(a)])]),_])}var T=e(l,[["render",g],["__file","\u62E6\u622A\u5668\u4E4B\u53EF\u62E6\u622Atabbar\u5207\u6362.html.vue"]]);export{T as default};

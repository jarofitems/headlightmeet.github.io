import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as c,c as l,b as n,d as t,e as s,a as p}from"./app.73ec3e73.js";var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAAwBAMAAADORKrhAAAAHlBMVEUMDAzMzMwjIyMVFRUdHR0ZGRktLi8bGxsRERFQUFDArjKeAAABzElEQVRYw+3VwU7CQBAG4H9ivM+8gVFiPNsQ7wIhXoWGK/AEHkq4QjjoA/jA7s62u9tQpY1QY9Mflh0aysfQdosl/i49Xis93uMdwRnVYVwuSxLRgsxTIEcWmfFh8r7NJvPxNBubvHxm4+l2k6bpZse/wRnkEa2P8UNi8nhbmcEeceTc+FUS42vzyPNsc8PlTzfJyv9grsbBB8Vf1VP5Pu78js6Ik4gZTEKiNTgJnXs5dD4AEwuDdIjOeex31MDhcT+IdY469/q6dNBBMGRpXxsRMTXXxKnA4XCdTcgfc9/3Oup8YokjXNMcJ2GIiH2rtSl854EPeSDEsO5bhKjm2Y68A7ju42vgKjWZuz7TZJjOFmObTF/fuIwz0ARnQDzuh7L5q+JKjRKbp62Nw/eIcdHZh0+ucPC4+8t1JhHYWrdff4+POF8Z3dlOdq6Pn7xGdY2bJQvrpTPFh6mN3bLZoVma4yFdvKXWSBdxKs54rcP6LLhoFCexJqOow22WcbmEzgNDHtc5Tis4WsJXQuJw4QjndjpnsIICCrigTVyh9jsnQgVO7ePtn+3sQDIPiXBp4TpX3N282YJak61/WOE6tLbXS4/3eI/3+L/CvwCQBHEvvtA/hAAAAABJRU5ErkJggg==",u="/assets/bk270.10f6dfd3.png",r="/assets/bk271.802df05b.png",k="/assets/bk272.0b63a0e5.png",d="/assets/bk273.1b672cb6.png",v="/assets/bk274.8f85d6e3.png",m="/assets/bk562.ba7c3925.png",b="/assets/bk275.96886215.png",g="/assets/bk276.889b7b1e.png",y="/assets/bk277.6b50bc7c.png",f="/assets/bk278.6cdfc81b.png",h="/assets/bk279.a36d3db0.png";const w={},q=n("h1",{id:"element-plus\u9879\u76EE\u642D\u5EFA",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#element-plus\u9879\u76EE\u642D\u5EFA","aria-hidden":"true"},"#"),s(" Element-Plus\u9879\u76EE\u642D\u5EFA")],-1),x=n("p",null,"\u9879\u76EE\u4F7F\u7528 Vue3 + Vite + TypeScript + Element Plus + Vue Router + Pinia \u7B49\u524D\u7AEF\u4E3B\u6D41\u6280\u672F\u6808",-1),_=n("h2",{id:"\u73AF\u5883\u51C6\u5907",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u73AF\u5883\u51C6\u5907","aria-hidden":"true"},"#"),s(" \u73AF\u5883\u51C6\u5907")],-1),E=n("p",null,[n("strong",null,"1. \u8FD0\u884C\u73AF\u5883Node")],-1),j=s("Node\u4E0B\u8F7D\u5730\u5740: "),P={href:"http://nodejs.cn/download/",target:"_blank",rel:"noopener noreferrer"},A=s("http://nodejs.cn/download/"),I=p('<p>\u6839\u636E\u672C\u673A\u73AF\u5883\u9009\u62E9\u5BF9\u5E94\u7248\u672C\u4E0B\u8F7D\uFF0C\u5B89\u88C5\u8FC7\u7A0B\u53EF\u89C6\u5316\u64CD\u4F5C\u975E\u5E38\u7B80\u4FBF\uFF0C\u9759\u9ED8\u5B89\u88C5\u5373\u53EF\u3002</p><p>\u5B89\u88C5\u5B8C\u6210\u540E\u547D\u4EE4\u884C\u7EC8\u7AEF\xA0node -v\xA0\u67E5\u770B\u7248\u672C\u53F7\u4EE5\u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F\uFF1A</p><img src="'+i+`" alt="solar"><p><strong>2.pnpm\u5B89\u88C5</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">-</span>g pnpm <span class="token comment">//\u901A\u8FC7 npm \u5B89\u88C5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>3. \u5F00\u53D1\u5DE5\u5177VSCode</strong></p>`,6),R=s("\u4E0B\u8F7D\u5730\u5740\uFF1A"),S={href:"https://code.visualstudio.com/Download",target:"_blank",rel:"noopener noreferrer"},C=s("https://code.visualstudio.com/Download"),T=n("p",null,[n("strong",null,"4. \u5FC5\u88C5\u63D2\u4EF6Volar")],-1),V=n("p",null,"VSCode \u63D2\u4EF6\u5E02\u573A\u641C\u7D22 Volar (\u5C31\u6392\u5728\u7B2C\u4E00\u4F4D\u7684\u9AB7\u9AC5\u5934)\uFF0C\u4E14\u8981\u7981\u7528\u9ED8\u8BA4\u7684 Vetur.",-1),z=n("img",{src:u,alt:"solar"},null,-1),N=n("h2",{id:"\u9879\u76EE\u521D\u59CB\u5316",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9879\u76EE\u521D\u59CB\u5316","aria-hidden":"true"},"#"),s(" \u9879\u76EE\u521D\u59CB\u5316")],-1),L=n("p",null,[n("strong",null,"1. Vite \u662F\u4EC0\u4E48\uFF1F")],-1),H=n("p",null,"Vite\u662F\u4E00\u79CD\u65B0\u578B\u524D\u7AEF\u6784\u5EFA\u5DE5\u5177\uFF0C\u80FD\u591F\u663E\u8457\u63D0\u5347\u524D\u7AEF\u5F00\u53D1\u4F53\u9A8C\u3002",-1),O=s("Vite \u5B98\u65B9\u4E2D\u6587\u6587\u6863\uFF1A"),B={href:"https://cn.vitejs.dev/guide/",target:"_blank",rel:"noopener noreferrer"},M=s("https://cn.vitejs.dev/guide/"),D=p(`<p><strong>2. \u521D\u59CB\u5316\u9879\u76EE</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm create vite <span class="token punctuation">[</span>vue3<span class="token operator">-</span>element<span class="token operator">-</span>admin<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>vue3-element-admin\uFF1A\u9879\u76EE\u540D\u79F0</p></li><li><p>vue-ts : Vue + TypeScript \u7684\u6A21\u677F\uFF0C\u9664\u6B64\u8FD8\u6709vue\uFF0Creact\uFF0Creact-ts\u6A21\u677F</p><img src="`+r+`" alt="solar"></li></ul><p><strong>3. \u542F\u52A8\u9879\u76EE</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>cd vue3<span class="token operator">-</span>element<span class="token operator">-</span>admin
npm install
npm run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B89\u88C5scss" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5scss" aria-hidden="true">#</a> \u5B89\u88C5SCSS</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install sass sass-loader -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7),U=s("\u6D4F\u89C8\u5668\u8BBF\u95EE:\xA0 "),W={href:"http://localhost:3000/",target:"_blank",rel:"noopener noreferrer"},F=s("http://localhost:3000"),G=p('<img src="'+k+`" alt="solar"><h2 id="\u6574\u5408element-plus" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408element-plus" aria-hidden="true">#</a> \u6574\u5408Element-Plus</h2><p><strong>1.\u672C\u5730\u5B89\u88C5Element Plus\u548C\u56FE\u6807\u7EC4\u4EF6</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install element<span class="token operator">-</span>plus
npm install <span class="token annotation punctuation">@element</span><span class="token operator">-</span>plus<span class="token operator">/</span>icons<span class="token operator">-</span>vue
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.\u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token class-name">ElementPlus</span> from &#39;element<span class="token operator">-</span>plus&#39;
<span class="token keyword">import</span> &#39;element<span class="token operator">-</span>plus<span class="token operator">/</span>dist<span class="token operator">/</span>index<span class="token punctuation">.</span>css&#39;

<span class="token comment">// \u5168\u5C40\u6CE8\u518Cicons</span>
<span class="token keyword">import</span> <span class="token operator">*</span> as <span class="token class-name">ElementPlusIconsVue</span> from &#39;<span class="token annotation punctuation">@element</span><span class="token operator">-</span>plus<span class="token operator">/</span>icons<span class="token operator">-</span>vue&#39;
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> component<span class="token punctuation">]</span> of <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token class-name">ElementPlusIconsVue</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> component<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token class-name">ElementPlus</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token char">&#39;#app&#39;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. Element Plus\u5168\u5C40\u7EC4\u4EF6\u7C7B\u578B\u58F0\u660E</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token string">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;element-plus/global&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. \u9875\u9762\u4F7F\u7528 Element Plus \u7EC4\u4EF6\u548C\u56FE\u6807</strong></p><p>\u5F15\u5165icons</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Search<span class="token punctuation">,</span> Edit<span class="token punctuation">,</span>Check<span class="token punctuation">,</span>Message<span class="token punctuation">,</span>Star<span class="token punctuation">,</span> Delete<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@element-plus/icons-vue&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4EE3\u7801\u5982\u4E0B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> src<span class="token operator">/</span><span class="token class-name">App</span><span class="token punctuation">.</span>vue <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token class-name">HelloWorld</span> msg<span class="token operator">=</span><span class="token string">&quot;Hello Vue 3 + TypeScript + Vite&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">&quot;text-align: center;margin-top: 10px&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Search&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;success&quot;</span> <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Check&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;info&quot;</span> <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Message&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;warning&quot;</span> <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Star&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> <span class="token operator">:</span>icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> circle<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> setup<span class="token operator">&gt;</span>
     <span class="token keyword">import</span> <span class="token class-name">HelloWorld</span> from &#39;<span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span><span class="token class-name">HelloWorld</span><span class="token punctuation">.</span>vue&#39;
     <span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token class-name">Search</span><span class="token punctuation">,</span> <span class="token class-name">Edit</span><span class="token punctuation">,</span><span class="token class-name">Check</span><span class="token punctuation">,</span><span class="token class-name">Message</span><span class="token punctuation">,</span><span class="token class-name">Star</span><span class="token punctuation">,</span> <span class="token class-name">Delete</span><span class="token punctuation">}</span> from &#39;<span class="token annotation punctuation">@element</span><span class="token operator">-</span>plus<span class="token operator">/</span>icons<span class="token operator">-</span>vue&#39;
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5. \u6548\u679C\u9884\u89C8</strong></p><img src="`+d+`" alt="solar"><h2 id="\u8DEF\u5F84\u522B\u540D\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u5F84\u522B\u540D\u914D\u7F6E" aria-hidden="true">#</a> \u8DEF\u5F84\u522B\u540D\u914D\u7F6E</h2><p><strong>1.\u4F7F\u7528 @ \u4EE3\u66FF src</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>tsconfig.json
{
	&quot;compilerOptions&quot;:{
		/** baseUrl \u7528\u6765\u544A\u8BC9\u7F16\u8BD1\u5668\u5230\u54EA\u91CC\u53BB\u67E5\u627E\u6A21\u5757\uFF0C\u4F7F\u7528\u975E\u76F8\u5BF9\u6A21\u5757\u65F6\u5FC5\u987B\u914D\u7F6E\u6B64\u9879 */
		&quot;baseUrl&quot;: &quot;.&quot;,
		/** \u975E\u76F8\u5BF9\u6A21\u5757\u5BFC\u5165\u7684\u8DEF\u5F84\u6620\u5C04\u914D\u7F6E\uFF0C\u6839\u636E baseUrl \u914D\u7F6E\u8FDB\u884C\u8DEF\u5F84\u8BA1\u7B97 */
		&quot;paths&quot;: {
		  &quot;@/*&quot;: [&quot;src/*&quot;]
		},
	}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// vite.config.ts
	resolve: {
		alias: {
		  /** @ \u7B26\u53F7\u6307\u5411 src \u76EE\u5F55 */
		  &quot;@&quot;: resolve(__dirname, &quot;./src&quot;)
		}
	},
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. \u5B89\u88C5@types/node</strong></p><p>\u672C\u5730\u5B89\u88C5 Node \u7684 TypeScript \u7C7B\u578B\u63CF\u8FF0\u6587\u4EF6\u5373\u53EF\u89E3\u51B3\u7F16\u8BD1\u5668\u62A5\u9519</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install @types/node --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>3. Vite\u914D\u7F6E</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// vite.config.ts
import { defineConfig, loadEnv } from &#39;vite&#39;
import vue from &#39;@vitejs/plugin-vue&#39;
import path, { resolve } from &quot;path&quot;
// vite\u914D\u7F6E\u5730\u5740\uFF1Ahttps://cn.vitejs.dev/config
export default ({ mode }: any) =&gt; {
  return defineConfig({
    plugins: [vue()],
    resolve: {
      alias: {
        /** @ \u7B26\u53F7\u6307\u5411 src \u76EE\u5F55 */
        &quot;@&quot;: resolve(__dirname, &quot;./src&quot;)
      }
    },
  })
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4.\u522B\u540D\u4F7F\u7528</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// App.vue</span>
<span class="token keyword">import</span> <span class="token class-name">HelloWorld</span> from &#39;<span class="token operator">/</span>src<span class="token operator">/</span>components<span class="token operator">/</span><span class="token class-name">HelloWorld</span><span class="token punctuation">.</span>vue&#39;
												\u2193
<span class="token keyword">import</span> <span class="token class-name">HelloWorld</span> from &#39;@<span class="token operator">/</span>components<span class="token operator">/</span><span class="token class-name">HelloWorld</span><span class="token punctuation">.</span>vue&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> \u73AF\u5883\u53D8\u91CF</h2>`,27),J=s("\u5B98\u65B9\u6559\u7A0B: "),Q={href:"https://cn.vitejs.dev/guide/env-and-mode.html",target:"_blank",rel:"noopener noreferrer"},K=s("https://cn.vitejs.dev/guide/env-and-mode.html"),X=p(`<p><strong>1. env\u914D\u7F6E\u6587\u4EF6</strong></p><p>\u9879\u76EE\u6839\u76EE\u5F55\u5206\u522B\u6DFB\u52A0 \u5F00\u53D1\u3001\u751F\u4EA7\u548C\u6A21\u62DF\u73AF\u5883\u914D\u7F6E</p><ul><li>\u5F00\u53D1\u73AF\u5883\u914D\u7F6E\uFF1A.env.development</li><li>\u53D8\u91CF\u5FC5\u987B\u4EE5 VITE_ \u4E3A\u524D\u7F00\u624D\u80FD\u66B4\u9732\u7ED9\u5916\u90E8\u8BFB\u53D6</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>  VITE_BASE_API <span class="token operator">=</span> <span class="token string">&#39;https://mock.liuj.com/mock/api/v1&#39;</span>
  VITE_APP_PORT <span class="token operator">=</span> <span class="token number">3000</span>
  VITE_PUBLIC_PATH <span class="token operator">=</span> <span class="token string">&#39;/dev-api&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u751F\u4EA7\u73AF\u5883\u914D\u7F6E\uFF1A.env.production</li><li>\u53D8\u91CF\u5FC5\u987B\u4EE5 VITE_ \u4E3A\u524D\u7F00\u624D\u80FD\u66B4\u9732\u7ED9\u5916\u90E8\u8BFB\u53D6</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>  VITE_BASE_API <span class="token operator">=</span> <span class="token string">&#39;https://mock.liuj.com/mock/api/v1&#39;</span>
  VITE_APP_PORT <span class="token operator">=</span> <span class="token number">3000</span>
  VITE_PUBLIC_PATH <span class="token operator">=</span> <span class="token string">&#39;/prod-api&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6A21\u62DF\u751F\u4EA7\u73AF\u5883\u914D\u7F6E\uFF1A.env.staging</li><li>\u53D8\u91CF\u5FC5\u987B\u4EE5 VITE_ \u4E3A\u524D\u7F00\u624D\u80FD\u66B4\u9732\u7ED9\u5916\u90E8\u8BFB\u53D6</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> VITE_BASE_API <span class="token operator">=</span> <span class="token string">&#39;https://mock.liuj.com/mock/api/v1&#39;</span>
 VITE_APP_PORT <span class="token operator">=</span> <span class="token number">3000</span>
 VITE_PUBLIC_PATH <span class="token operator">=</span> <span class="token string">&#39;/prod--api&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.\u73AF\u5883\u53D8\u91CF\u667A\u80FD\u63D0\u793A</strong></p><p>\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\u7C7B\u578B\u58F0\u660E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/ env.d.ts</span>
<span class="token comment">// \u73AF\u5883\u53D8\u91CF\u7C7B\u578B\u58F0\u660E</span>
<span class="token keyword">interface</span> <span class="token class-name">ImportMetaEnv</span> <span class="token punctuation">{</span>
  VITE_BASE_API<span class="token operator">:</span> string<span class="token punctuation">,</span>
  VITE_APP_PORT<span class="token operator">:</span> string<span class="token punctuation">,</span>
  VITE_PUBLIC_PATH<span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ImportMeta</span> <span class="token punctuation">{</span>
  readonly env<span class="token operator">:</span> <span class="token class-name">ImportMetaEnv</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540E\u9762\u5728\u4F7F\u7528\u81EA\u5B9A\u4E49\u73AF\u5883\u53D8\u91CF\u5C31\u4F1A\u6709\u667A\u80FD\u63D0\u793A\uFF0C\u73AF\u5883\u53D8\u91CF\u4F7F\u7528\u8BF7\u53C2\u8003\u4E0B\u4E00\u8282\u3002</p><img src="`+v+`" alt="solar"><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_PORT</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_BASE_API</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_PUBLIC_PATH</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+m+`" alt="solar"> **3.\u6A21\u5F0F** <p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5F00\u53D1\u670D\u52A1\u5668 (<code>dev</code> \u547D\u4EE4) \u8FD0\u884C\u5728 <code>development</code> (\u5F00\u53D1) \u6A21\u5F0F\uFF0C\u800C <code>build</code> \u547D\u4EE4\u5219\u8FD0\u884C\u5728 <code>production</code> (\u751F\u4EA7) \u6A21\u5F0F\u3002</p><p>\u8FD9\u610F\u5473\u7740\u5F53\u6267\u884C <code>vite build</code> \u65F6\uFF0C\u5B83\u4F1A\u81EA\u52A8\u52A0\u8F7D <code>.env.production</code> \u4E2D\u53EF\u80FD\u5B58\u5728\u7684\u73AF\u5883\u53D8\u91CF\uFF1A</p><p>\u5728\u4F60\u7684\u5E94\u7528\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 <code>i<wbr>mport.meta.env.VITE_APP_TITLE</code> \u6E32\u67D3\u6807\u9898\u3002</p><p>\u4F60\u53EF\u4EE5\u901A\u8FC7\u4F20\u9012 <code>--mode</code> \u9009\u9879\u6807\u5FD7\u6765\u8986\u76D6\u547D\u4EE4\u4F7F\u7528\u7684\u9ED8\u8BA4\u6A21\u5F0F\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u60F3\u4E3A\u6211\u4EEC\u5047\u8BBE\u7684 staging \u6A21\u5F0F\u6784\u5EFA\u5E94\u7528\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vite build --mode staging
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>4.\u5728\u914D\u7F6E\u4E2D\u4F7F\u7528\u73AF\u5883\u53D8\u91CF</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// vite.config.ts
import { defineConfig, loadEnv } from &#39;vite&#39;
import vue from &#39;@vitejs/plugin-vue&#39;
import path, { resolve } from &quot;path&quot;
// vite\u914D\u7F6E\u5730\u5740\uFF1Ahttps://cn.vitejs.dev/config
export default ({ mode }: any) =&gt; {

  const viteEnv = loadEnv(mode, process.cwd(), &#39;&#39;)
  const { VITE_APP_PORT } = viteEnv
  console.log(VITE_APP_PORT);
  
  return defineConfig({
    plugins: [vue()],
	resolve: {
	  alias: {
	    /** @ \u7B26\u53F7\u6307\u5411 src \u76EE\u5F55 */
	    &quot;@&quot;: resolve(__dirname, &quot;./src&quot;)
	  }
	},
  })
}


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6D4F\u89C8\u5668\u8DE8\u57DF\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u8DE8\u57DF\u5904\u7406" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u8DE8\u57DF\u5904\u7406</h2><p><strong>1. \u8DE8\u57DF\u539F\u7406</strong></p><blockquote><p>\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565: \u534F\u8BAE\u3001\u57DF\u540D\u548C\u7AEF\u53E3\u90FD\u76F8\u540C\u662F\u540C\u6E90\uFF0C\u6D4F\u89C8\u5668\u4F1A\u9650\u5236\u975E\u540C\u6E90\u8BF7\u6C42\u8BFB\u53D6\u54CD\u5E94\u7ED3\u679C\u3002</p></blockquote><p>\u89E3\u51B3\u6D4F\u89C8\u5668\u8DE8\u57DF\u9650\u5236\u5927\u4F53\u5206\u4E3A\u540E\u7AEF\u548C\u524D\u7AEF\u4E24\u4E2A\u65B9\u5411\uFF1A</p><ul><li>\u540E\u7AEF\uFF1A\u5F00\u542F CORS \u8D44\u6E90\u5171\u4EAB\uFF1B</li><li>\u524D\u7AEF\uFF1A\u4F7F\u7528\u53CD\u5411\u4EE3\u7406\u6B3A\u9A97\u6D4F\u89C8\u5668\u8BEF\u8BA4\u4E3A\u662F\u540C\u6E90\u8BF7\u6C42\uFF1B</li></ul><p><strong>2. \u524D\u7AEF\u53CD\u5411\u4EE3\u7406\u89E3\u51B3\u8DE8\u57DF</strong></p><p>Vite \u914D\u7F6E\u53CD\u5411\u4EE3\u7406\u89E3\u51B3\u8DE8\u57DF\uFF0C<strong>\u56E0\u4E3A\u9700\u8981\u8BFB\u53D6\u73AF\u5883\u53D8\u91CF\uFF0C\u6545\u5199\u6CD5\u548C\u4E0A\u6587\u7684\u51FA\u5165\u8F83\u5927\uFF0C\u8FD9\u91CC\u8D34\u51FA\u5B8C\u6574\u7684 vite.config.ts \u914D\u7F6E\u3002</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig<span class="token punctuation">,</span> loadEnv <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> path<span class="token punctuation">,</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span>
<span class="token comment">// vite\u914D\u7F6E\u5730\u5740\uFF1Ahttps://cn.vitejs.dev/config</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  
  <span class="token comment">// \u83B7\u53D6\u73AF\u5883\u53D8\u91CF\u4E2D\u7684\u6570\u636E</span>
  <span class="token keyword">const</span> viteEnv <span class="token operator">=</span> <span class="token function">loadEnv</span><span class="token punctuation">(</span>mode<span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">VITE_APP_PORT</span> <span class="token punctuation">}</span> <span class="token operator">=</span> viteEnv

  <span class="token comment">// console.log(loadEnv(mode, process.cwd()));</span>
  <span class="token keyword">return</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token doc-comment comment">/** @ \u7B26\u53F7\u6307\u5411 src \u76EE\u5F55 */</span>
        <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token doc-comment comment">/** \u662F\u5426\u5F00\u542F HTTPS */</span>
      <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u8BBE\u7F6E host: true \u624D\u53EF\u4EE5\u4F7F\u7528 Network \u7684\u5F62\u5F0F\uFF0C\u4EE5 IP \u8BBF\u95EE\u9879\u76EE */</span>
      <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// host: &quot;0.0.0.0&quot;</span>
      <span class="token doc-comment comment">/** \u7AEF\u53E3\u53F7 */</span>
      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token constant">VITE_APP_PORT</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u662F\u5426\u81EA\u52A8\u6253\u5F00\u6D4F\u89C8\u5668 */</span>
      <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u8DE8\u57DF\u8BBE\u7F6E\u5141\u8BB8 */</span>
      <span class="token literal-property property">cors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u7AEF\u53E3\u88AB\u5360\u7528\u65F6\uFF0C\u662F\u5426\u76F4\u63A5\u9000\u51FA */</span>
      <span class="token literal-property property">strictPort</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u63A5\u53E3\u4EE3\u7406 */</span>
      <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;/api/v1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;https://mock.mengxuegu.com/mock/63218b5fb4c53348ed2bc212/api/v1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token doc-comment comment">/** \u662F\u5426\u5141\u8BB8\u8DE8\u57DF */</span>
          <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;/api/v1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** Vite 2.6.x \u4EE5\u4E0A\u9700\u8981\u914D\u7F6E minify: &quot;terser&quot;, terserOptions \u624D\u80FD\u751F\u6548 */</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token string">&#39;terser&#39;</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u6D88\u9664\u6253\u5305\u5927\u5C0F\u8D85\u8FC7 500kb \u8B66\u544A */</span>
      <span class="token literal-property property">chunkSizeWarningLimit</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/** \u5728\u6253\u5305\u4EE3\u7801\u65F6\u79FB\u9664 console.log\u3001debugger */</span>
      <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">drop_debugger</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rollupOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">manualChunks</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> id
                <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">chunkFileNames</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">chunkInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> facadeModuleId <span class="token operator">=</span> chunkInfo<span class="token punctuation">.</span>facadeModuleId
              <span class="token operator">?</span> chunkInfo<span class="token punctuation">.</span>facadeModuleId<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span>
              <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> fileName <span class="token operator">=</span>
              facadeModuleId<span class="token punctuation">[</span>facadeModuleId<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">js/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/[name].[hash].js</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="svg\u56FE\u6807" tabindex="-1"><a class="header-anchor" href="#svg\u56FE\u6807" aria-hidden="true">#</a> SVG\u56FE\u6807</h2>`,32),Y=n("strong",null,"\u5B98\u65B9\u6559\u7A0B\uFF1A",-1),$=s("\xA0"),Z={href:"https://github.com/vbenjs/vite-plugin-svg-icons/blob/main/README.zh_CN.md",target:"_blank",rel:"noopener noreferrer"},nn=s("https://github.com/vbenjs/vite-plugin-svg-icons/blob/main/README.zh_CN.md"),sn=s("Element Plus \u56FE\u6807\u5E93\u5F80\u5F80\u6EE1\u8DB3\u4E0D\u4E86\u5B9E\u9645\u5F00\u53D1\u9700\u6C42\uFF0C\u53EF\u4EE5\u5F15\u7528\u548C\u4F7F\u7528\u7B2C\u4E09\u65B9\u4F8B\u5982 iconfont \u7684\u56FE\u6807\uFF0C\u672C\u8282\u901A\u8FC7\u6574\u5408\xA0 "),an={href:"https://github.com/vbenjs/vite-plugin-svg-icons",target:"_blank",rel:"noopener noreferrer"},tn=s("vite-plugin-svg-icons"),pn=s("\xA0\u63D2\u4EF6\u4F7F\u7528\u7B2C\u4E09\u65B9\u56FE\u6807\u5E93\u3002"),en=p(`<p><strong>1. \u5B89\u88C5 vite-plugin-svg-icons</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i fast-glob@3.2.11 -D
<span class="token function">npm</span> i vite-plugin-svg-icons@2.0.1 -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. \u521B\u5EFA\u56FE\u6807\u6587\u4EF6\u5939</strong></p><p>\u9879\u76EE\u521B\u5EFA\xA0src/assets/icons\xA0\u6587\u4EF6\u5939\uFF0C\u5B58\u653E iconfont \u4E0B\u8F7D\u7684 SVG \u56FE\u6807</p><p><strong>3. main.ts \u5F15\u5165\u6CE8\u518C\u811A\u672C</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> &#39;virtual<span class="token operator">:</span>svg<span class="token operator">-</span>icons<span class="token operator">-</span>register&#39;<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. vite.config.ts \u63D2\u4EF6\u914D\u7F6E</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig<span class="token punctuation">,</span> loadEnv <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> path<span class="token punctuation">,</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createSvgIconsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-svg-icons&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> viteEnv <span class="token operator">=</span> <span class="token function">loadEnv</span><span class="token punctuation">(</span>mode<span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">VITE_APP_PORT</span> <span class="token punctuation">}</span> <span class="token operator">=</span> viteEnv

  <span class="token comment">// console.log(loadEnv(mode, process.cwd()));</span>
  <span class="token keyword">return</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">createSvgIconsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		    <span class="token comment">// \u6307\u5B9A\u9700\u8981\u7F13\u5B58\u7684\u56FE\u6807\u6587\u4EF6\u5939</span>
		    <span class="token literal-property property">iconDirs</span><span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;src/assets/icons&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		    <span class="token comment">// \u6307\u5B9AsymbolId\u683C\u5F0F</span>
		    <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">&#39;icon-[dir]-[name]&#39;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token doc-comment comment">/** @ \u7B26\u53F7\u6307\u5411 src \u76EE\u5F55 */</span>
        <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5. TypeScript\u652F\u6301</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vite-plugin-svg-icons/client&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>6. \u7EC4\u4EF6\u5C01\u88C5</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> src<span class="token operator">/</span>components<span class="token operator">/</span><span class="token class-name">SvgIcon</span><span class="token operator">/</span>index<span class="token punctuation">.</span>vue <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>svg aria<span class="token operator">-</span>hidden<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;svg-icon&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>use <span class="token operator">:</span>xlink<span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">&quot;symbolId&quot;</span> <span class="token operator">:</span>fill<span class="token operator">=</span><span class="token string">&quot;color&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>svg<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> from <span class="token char">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> props<span class="token operator">=</span><span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  prefix<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token char">&#39;icon&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  iconClass<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  color<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> &#39;&#39;
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> symbolId <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \`#$<span class="token punctuation">{</span>props<span class="token punctuation">.</span>prefix<span class="token punctuation">}</span><span class="token operator">-</span>$<span class="token punctuation">{</span>props<span class="token punctuation">.</span>iconClass<span class="token punctuation">}</span>\`<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style scoped<span class="token punctuation">&gt;</span></span>
<span class="token punctuation">.</span>svg<span class="token operator">-</span>icon <span class="token punctuation">{</span>
  width<span class="token operator">:</span> <span class="token number">1</span>em<span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token number">1</span>em<span class="token punctuation">;</span>
  vertical<span class="token operator">-</span>align<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.15</span>em<span class="token punctuation">;</span>
  overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
  fill<span class="token operator">:</span> currentColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>7. \u4F7F\u7528\u6848\u4F8B</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>svg<span class="token operator">-</span>icon icon<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;menu&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
	<span class="token keyword">import</span> <span class="token class-name">SvgIcon</span> from &#39;@<span class="token operator">/</span>components<span class="token operator">/</span><span class="token class-name">SvgIcon</span><span class="token operator">/</span>index<span class="token punctuation">.</span>vue&#39;<span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pinia\u72B6\u6001\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#pinia\u72B6\u6001\u7BA1\u7406" aria-hidden="true">#</a> Pinia\u72B6\u6001\u7BA1\u7406</h2><blockquote><p>Pinia \u662F Vue.js \u7684\u8F7B\u91CF\u7EA7\u72B6\u6001\u7BA1\u7406\u5E93\uFF0CVuex \u7684\u66FF\u4EE3\u65B9\u6848\u3002</p></blockquote><p>\u5C24\u96E8\u6EAA\u4E8E2021.11.24 \u5728 Twitter \u4E0A\u5BA3\u5E03\uFF1APinia \u6B63\u5F0F\u6210\u4E3A vuejs \u5B98\u65B9\u7684\u72B6\u6001\u5E93\uFF0C\u610F\u5473\u7740 Pinia \u5C31\u662F Vuex 5 \u3002</p><img src="`+b+`" alt="solar"><p><strong>1. \u5B89\u88C5Pinia</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install pinia
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>2. Pinia\u5168\u5C40\u6CE8\u518C</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> from <span class="token string">&quot;pinia&quot;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token char">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. \u5B9A\u4E49Store</strong></p><p>\u4F7F\u7528<code>defineStore</code>\u5B9A\u4E49<code>store</code>\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u5FC5\u987B\u662F\u5168\u5C40\u552F\u4E00\u7684id\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>Symbol</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/store/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
 
<span class="token keyword">export</span> <span class="token keyword">const</span> useStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">doubleCount</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>counter <span class="token operator">*</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. \u4F7F\u7528Pinia</strong></p><p>\u5728vue\u9875\u9762\u4E2D\u4F7F\u7528</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//HelloWorld.vue</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> from <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//\u4E0D\u63A8\u8350\u4E0B\u9762\u8FD9\u79CD\u5199\u6CD5</span>
  <span class="token keyword">const</span> counter <span class="token operator">=</span> store<span class="token punctuation">.</span>counter
  <span class="token keyword">const</span> doubleCount <span class="token operator">=</span> store<span class="token punctuation">.</span>doubleCount
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token comment">//\u76F4\u63A5\u8C03\u7528store\u4E2D\u7684\u503C</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span>counter<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token comment">//\u505A\u903B\u8F91\u64CD\u4F5C\u540E\u8C03\u7528store\u4E2D\u7684\u503C</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span>doubleCount<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
   <span class="token comment">//\u8C03\u7528store\u4E2D\u7684\u65B9\u6CD5</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token annotation punctuation">@click</span><span class="token operator">=</span><span class="token string">&quot;store.increment&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span><span class="token class-name">Primary</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
  <span class="token comment">//\u5982\u679Cstore\u4E2D\u6709\u6539\u53D8\u6216\u70B9\u51FBincrement\u4E8B\u4EF6\uFF0C\u90A3\u4E48\u4E0B\u9762\u8FD9\u79CD\u65B9\u5F0F\u4E0D\u4F1A\u5728\u9875\u9762\u66F4\u65B0\uFF0C\u4E0D\u63A8\u8350</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>counter<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>doubleCount<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>style scoped<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1A\u5728\u9875\u9762\u4E2D\u4F7F\u7528\u5F15\u5165store\u4F1A\u51FA\u73B0\u627E\u4E0D\u5230\u6A21\u5757\uFF0C\u8FD9\u4E2A\u65F6\u5019\u4E0D\u7528\u7BA1\uFF0C\u5B9E\u9645\u4E0A\u662F\u80FD\u627E\u5230\u7684</p><img src="`+g+'" alt="solar"><p>\u754C\u9762\u663E\u793A</p><img src="'+y+`" alt="solar"><h2 id="axios\u7F51\u7EDC\u8BF7\u6C42\u5E93\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#axios\u7F51\u7EDC\u8BF7\u6C42\u5E93\u5C01\u88C5" aria-hidden="true">#</a> Axios\u7F51\u7EDC\u8BF7\u6C42\u5E93\u5C01\u88C5</h2><p><strong>1. axios\u5DE5\u5177\u5C01\u88C5</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//  src/utils/request.ts</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage<span class="token punctuation">,</span> ElMessageBox <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> localStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/storage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useStore <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span> <span class="token comment">// pinia</span>

<span class="token comment">// \u521B\u5EFA axios \u5B9E\u4F8B</span>
<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    baseURL<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_PUBLIC_PATH</span><span class="token punctuation">,</span>
    timeout<span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json;charset=utf-8&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u8BF7\u6C42\u62E6\u622A\u5668</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5728\u53D1\u9001\u8BF7\u6C42\u4E4B\u524D\u505A\u4E9B\u4EC0\u4E48</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>headers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Expected &#39;config&#39; and &#39;config.headers&#39; not to be undefined</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>localStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5BF9\u8BF7\u6C42\u9519\u8BEF\u505A\u4E9B\u4EC0\u4E48</span>
        <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">)</span>

<span class="token comment">// \u6DFB\u52A0\u54CD\u5E94\u62E6\u622A\u5668</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
		<span class="token comment">// 2xx \u8303\u56F4\u5185\u7684\u72B6\u6001\u7801\u90FD\u4F1A\u89E6\u53D1\u8BE5\u51FD\u6570\u3002</span>
		<span class="token comment">// \u5BF9\u54CD\u5E94\u6570\u636E\u505A\u70B9\u4EC0\u4E48</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> msg <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token string">&#39;00000&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                message<span class="token operator">:</span> msg <span class="token operator">||</span> <span class="token string">&#39;\u7CFB\u7EDF\u51FA\u9519&#39;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>msg <span class="token operator">||</span> <span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// \u8D85\u51FA 2xx \u8303\u56F4\u7684\u72B6\u6001\u7801\u90FD\u4F1A\u89E6\u53D1\u8BE5\u51FD\u6570\u3002</span>
		<span class="token comment">// \u5BF9\u54CD\u5E94\u9519\u8BEF\u505A\u70B9\u4EC0\u4E48</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> msg <span class="token punctuation">}</span> <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data
        <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token string">&#39;A0230&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// token \u8FC7\u671F</span>
            localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6E05\u9664\u6D4F\u89C8\u5668\u5168\u90E8\u7F13\u5B58</span>
            window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u8DF3\u8F6C\u767B\u5F55\u9875</span>
            ElMessageBox<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F53\u524D\u9875\u9762\u5DF2\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u63D0\u793A&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                message<span class="token operator">:</span> msg <span class="token operator">||</span> <span class="token string">&#39;\u7CFB\u7EDF\u51FA\u9519&#39;</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>msg <span class="token operator">||</span> <span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5BFC\u51FA axios \u5B9E\u4F8B</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> service

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. API\u5C01\u88C5</strong></p><p>\u4EE5\u767B\u5F55\u6210\u529F\u540E\u83B7\u53D6\u7528\u6237\u4FE1\u606F(\u6635\u79F0\u3001\u5934\u50CF\u3001\u89D2\u8272\u96C6\u5408\u548C\u6743\u9650\u96C6\u5408)\u7684\u63A5\u53E3\u4E3A\u6848\u4F8B\uFF0C\u6F14\u793A\u5982\u4F55\u901A\u8FC7\u5C01\u88C5\u7684 axios \u5DE5\u5177\u7C7B\u8BF7\u6C42\u540E\u7AEF\u63A5\u53E3\uFF0C\u5176\u4E2D\u54CD\u5E94\u6570\u636E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/api/login.ts</span>
<span class="token comment">// \u5BFC\u5165axios\u5B9E\u4F8B</span>
<span class="token keyword">import</span> <span class="token namespace">httpRequest</span> from &#39;@<span class="token operator">/</span>utils<span class="token operator">/</span>request&#39;

<span class="token comment">// \u5B9A\u4E49\u63A5\u53E3\u7684\u4F20\u53C2</span>
<span class="token keyword">interface</span> <span class="token class-name">UserInfoParam</span> <span class="token punctuation">{</span>
	userID<span class="token operator">:</span> string<span class="token punctuation">,</span>
	userName<span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u7528\u6237\u4FE1\u606F</span>
export function <span class="token function">apiGetUserInfo</span><span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token class-name">UserInfoParam</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">httpRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		url<span class="token operator">:</span> <span class="token char">&#39;/users&#39;</span><span class="token punctuation">,</span>
		method<span class="token operator">:</span> <span class="token char">&#39;post&#39;</span><span class="token punctuation">,</span>
		data<span class="token operator">:</span> param<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. API\u8C03\u7528</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/login/login.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> apiGetUserInfo <span class="token punctuation">}</span> from &#39;@<span class="token operator">/</span>api<span class="token operator">/</span>login&#39;

<span class="token comment">// \u83B7\u53D6\u767B\u5F55\u7528\u6237\u4FE1\u606F</span>
<span class="token keyword">const</span> param <span class="token operator">=</span> <span class="token punctuation">{</span>
    userID<span class="token operator">:</span> <span class="token char">&#39;10001&#39;</span><span class="token punctuation">,</span>
    userName<span class="token operator">:</span> <span class="token char">&#39;Mike&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">apiGetUserInfo</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u52A8\u6001\u6743\u9650\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u6743\u9650\u8DEF\u7531" aria-hidden="true">#</a> \u52A8\u6001\u6743\u9650\u8DEF\u7531</h2>`,41),on=s("\u5B98\u65B9\u6587\u6863\uFF1A "),cn={href:"https://router.vuejs.org/zh/api/",target:"_blank",rel:"noopener noreferrer"},ln=s("https://router.vuejs.org/zh/api/"),un=p(`<p><strong>1. \u5B89\u88C5 vue-router</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install vue<span class="token operator">-</span>router<span class="token annotation punctuation">@4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>2. \u521B\u5EFA\u8DEF\u7531\u5B9E\u4F8B</strong></p><p>\u521B\u5EFA\u8DEF\u7531\u5B9E\u4F8B\u5E76\u5BFC\u51FA\uFF0C\u5176\u4E2D\u5305\u62EC\u9759\u6001\u8DEF\u7531\u6570\u636E\uFF0C\u52A8\u6001\u8DEF\u7531\u540E\u9762\u5C06\u901A\u8FC7\u63A5\u53E3\u4ECE\u540E\u7AEF\u83B7\u53D6\u5E76\u6574\u5408\u7528\u6237\u89D2\u8272\u7684\u6743\u9650\u63A7\u5236\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// src/router/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory<span class="token punctuation">,</span> RouteRecordRaw <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// \u521B\u5EFA\u8DEF\u7531\u89C4\u5219</span>
<span class="token keyword">const</span> constantRoutes<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>RouteRecordRaw<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">&#39;/dashboard&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&#39;home&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;login&quot; */</span><span class="token string">&#39;../views/home/home.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/dashboard&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;dashboard&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;\u7CFB\u7EDF\u9996\u9875&#39;</span><span class="token punctuation">,</span>
                    permiss<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;dashboard&quot; */</span> <span class="token string">&#39;../views/dashboard/dashboard.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;\u4E2A\u4EBA\u4E2D\u5FC3&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;user&quot; */</span> <span class="token string">&#39;../views/user/user.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/form&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;baseform&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;\u8868\u5355&#39;</span><span class="token punctuation">,</span>
                    permiss<span class="token operator">:</span> <span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;form&quot; */</span> <span class="token string">&#39;../views/form/form.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/tabs&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;tabs&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;tab\u6807\u7B7E&#39;</span><span class="token punctuation">,</span>
                    permiss<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;tabs&quot; */</span> <span class="token string">&#39;../views/tabs/tabs.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/permission&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;permission&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;\u6743\u9650\u7BA1\u7406&#39;</span><span class="token punctuation">,</span>
                    permiss<span class="token operator">:</span> <span class="token string">&#39;13&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;permission&quot; */</span> <span class="token string">&#39;../views/permission/permission.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                path<span class="token operator">:</span> <span class="token string">&#39;/icon&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span>
                meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                    title<span class="token operator">:</span> <span class="token string">&#39;\u81EA\u5B9A\u4E49\u56FE\u6807&#39;</span><span class="token punctuation">,</span>
                    permiss<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;icon&quot; */</span> <span class="token string">&#39;../views/icon/icon.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&#39;Login&#39;</span><span class="token punctuation">,</span>
        meta<span class="token operator">:</span> <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">&#39;\u767B\u5F55&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;login&quot; */</span> <span class="token string">&#39;../views/login/login.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#39;/404&#39;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&#39;404&#39;</span><span class="token punctuation">,</span>
        meta<span class="token operator">:</span> <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">&#39;\u6CA1\u6709\u6743\u9650&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;404&quot; */</span> <span class="token string">&#39;../views/404/404.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    routes<span class="token operator">:</span> constantRoutes <span class="token keyword">as</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5237\u65B0\u65F6\uFF0C\u6EDA\u52A8\u6761\u4F4D\u7F6E\u8FD8\u539F</span>
    <span class="token function-variable function">scrollBehavior</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>permiss<span class="token punctuation">)</span>
    <span class="token keyword">const</span> role <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;ms_username&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>role <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>path <span class="token operator">!==</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token comment">// \u5C06\u8DEF\u7531\u5BF9\u8C61\u66B4\u9732\u51FA\u53BB</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. \u8DEF\u7531\u5B9E\u4F8B\u5168\u5C40\u6CE8\u518C</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;@/router&quot;</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. \u52A8\u6001\u6743\u9650\u8DEF\u7531</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// src/permission.ts</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;@/router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useStore <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&#39;nprogress&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;nprogress/nprogress.css&#39;</span>
NProgress<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> showSpinner<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// \u8FDB\u5EA6\u73AF\u663E\u793A/\u9690\u85CF</span>


<span class="token comment">// \u767D\u540D\u5355\u8DEF\u7531</span>
<span class="token keyword">const</span> whiteList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/auth-redirect&#39;</span><span class="token punctuation">]</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> form<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> permission <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> hasToken <span class="token operator">=</span> user<span class="token punctuation">.</span>token
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hasToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u767B\u5F55\u6210\u529F\uFF0C\u8DF3\u8F6C\u5230\u9996\u9875</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
            NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> hasGetUserInfo <span class="token operator">=</span> user<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>hasGetUserInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token keyword">const</span> roles <span class="token operator">=</span> user<span class="token punctuation">.</span>roles
                    <span class="token comment">// \u7528\u6237\u62E5\u6709\u6743\u9650\u7684\u8DEF\u7531\u96C6\u5408(accessRoutes) </span>
                    <span class="token keyword">const</span> accessRoutes<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">await</span> permission<span class="token punctuation">.</span><span class="token function">generateRoutes</span><span class="token punctuation">(</span>roles<span class="token punctuation">)</span>
                    accessRoutes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>route<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>to<span class="token punctuation">,</span> replace<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u79FB\u9664 token \u5E76\u8DF3\u8F6C\u767B\u5F55\u9875</span>
                    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">resetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error <span class="token keyword">as</span> <span class="token builtin">any</span> <span class="token operator">||</span> <span class="token string">&#39;Has Error&#39;</span><span class="token punctuation">)</span>
                    <span class="token function">next</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/login?redirect=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>to<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
                    NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u672A\u767B\u5F55\u53EF\u4EE5\u8BBF\u95EE\u767D\u540D\u5355\u9875\u9762(\u767B\u5F55\u9875\u9762)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/login?redirect=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>to<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
            NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u4E2D const accessRoutes: any = await permission.generateRoutes(roles)\u662F\u6839\u636E\u7528\u6237\u89D2\u8272\u83B7\u53D6\u62E5\u6709\u6743\u9650\u7684\u8DEF\u7531(\u9759\u6001\u8DEF\u7531+\u52A8\u6001\u8DEF\u7531)\uFF0C\u6838\u5FC3\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// src/store/modules/permission.ts </span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> constantRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/router&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> listRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/system/menu&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> usePermissionStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&quot;permission&quot;</span><span class="token punctuation">,</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> PermissionState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        addRoutes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">setRoutes</span><span class="token punctuation">(</span>routes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>addRoutes <span class="token operator">=</span> routes
          	<span class="token comment">// \u9759\u6001\u8DEF\u7531 + \u52A8\u6001\u8DEF\u7531</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>routes <span class="token operator">=</span> constantRoutes<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">generateRoutes</span><span class="token punctuation">(</span>roles<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              	<span class="token comment">// API \u83B7\u53D6\u52A8\u6001\u8DEF\u7531</span>
                <span class="token function">listRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">const</span> asyncRoutes <span class="token operator">=</span> response<span class="token punctuation">.</span>data
                    <span class="token keyword">let</span> accessedRoutes <span class="token operator">=</span> <span class="token function">filterAsyncRoutes</span><span class="token punctuation">(</span>asyncRoutes<span class="token punctuation">,</span> roles<span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setRoutes</span><span class="token punctuation">(</span>accessedRoutes<span class="token punctuation">)</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>accessedRoutes<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>error <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> usePermissionStore<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6309\u94AE\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#\u6309\u94AE\u6743\u9650" aria-hidden="true">#</a> \u6309\u94AE\u6743\u9650</h2><p><strong>1. Directive \u81EA\u5B9A\u4E49\u6307\u4EE4</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/directive/permission/index.ts</span>

<span class="token keyword">import</span> <span class="token namespace">useStore</span> from <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token class-name">Directive</span><span class="token punctuation">,</span> <span class="token class-name">DirectiveBinding</span> <span class="token punctuation">}</span> from <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * \u6309\u94AE\u6743\u9650\u6821\u9A8C
 */</span>
export <span class="token keyword">const</span> hasPerm<span class="token operator">:</span> <span class="token class-name">Directive</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span>el<span class="token operator">:</span> <span class="token class-name">HTMLElement</span><span class="token punctuation">,</span> binding<span class="token operator">:</span> <span class="token class-name">DirectiveBinding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u300C\u8D85\u7EA7\u7BA1\u7406\u5458\u300D\u62E5\u6709\u6240\u6709\u7684\u6309\u94AE\u6743\u9650</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> roles <span class="token operator">=</span> user<span class="token punctuation">.</span>roles<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>roles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token char">&#39;ROOT&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u300C\u5176\u4ED6\u89D2\u8272\u300D\u6309\u94AE\u6743\u9650\u6821\u9A8C</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> binding<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> requiredPerms <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// DOM\u7ED1\u5B9A\u9700\u8981\u7684\u6309\u94AE\u6743\u9650\u6807\u8BC6</span>

            <span class="token keyword">const</span> hasPerm <span class="token operator">=</span> user<span class="token punctuation">.</span>perms<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>perm <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> requiredPerms<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>perm<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasPerm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                el<span class="token punctuation">.</span>parentNode <span class="token operator">&amp;&amp;</span> el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;need perms! Like v-has-perm=\\&quot;[&#39;sys:user:add&#39;,&#39;sys:user:edit&#39;]\\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. \u81EA\u5B9A\u4E49\u6307\u4EE4\u5168\u5C40\u6CE8\u518C</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token comment">// src/main.ts</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token punctuation">)</span>
<span class="token comment">// \u81EA\u5B9A\u4E49\u6307\u4EE4</span>
<span class="token keyword">import</span> <span class="token operator">*</span> as directive from <span class="token string">&quot;@/directive&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>directive<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token punctuation">(</span>directive as <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token class-name">Directive</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. \u6307\u4EE4\u4F7F\u7528</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token comment">// src/views/system/user/index.vue</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span>hasPerm<span class="token operator">=</span><span class="token string">&quot;[&#39;sys:user:add&#39;]&quot;</span><span class="token operator">&gt;</span>\u65B0\u589E<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span>hasPerm<span class="token operator">=</span><span class="token string">&quot;[&#39;sys:user:delete&#39;]&quot;</span><span class="token operator">&gt;</span>\u5220\u9664<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="element-plus\u56FD\u9645\u5316" tabindex="-1"><a class="header-anchor" href="#element-plus\u56FD\u9645\u5316" aria-hidden="true">#</a> Element-Plus\u56FD\u9645\u5316</h2>`,19),rn=s("\u5B98\u65B9\u6559\u7A0B\uFF1A"),kn={href:"https://element-plus.gitee.io/zh-CN/guide/i18n.html",target:"_blank",rel:"noopener noreferrer"},dn=s("https://element-plus.gitee.io/zh-CN/guide/i18n.html"),vn=p(`<p>Element Plus \u5B98\u65B9\u63D0\u4F9B\u5168\u5C40\u914D\u7F6E Config Provider\u5B9E\u73B0\u56FD\u9645\u5316</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>
//  src/App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-config-provider</span> <span class="token attr-name">:locale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>locale<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-config-provider</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElConfigProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> useStore <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u5BFC\u5165 Element Plus \u8BED\u8A00\u5305</span>
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/zh-cn&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/en&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u83B7\u53D6\u7CFB\u7EDF\u8BED\u8A00</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> app <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> language <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> app<span class="token punctuation">.</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> locale <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">watch</span><span class="token punctuation">(</span>
  language<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      locale<span class="token punctuation">.</span>value <span class="token operator">=</span> en<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// \u9ED8\u8BA4\u4E2D\u6587</span>
      locale<span class="token punctuation">.</span>value <span class="token operator">=</span> zhCn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// \u521D\u59CB\u5316\u7ACB\u5373\u6267\u884C</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u81EA\u5B9A\u4E49\u56FD\u9645\u5316" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u56FD\u9645\u5316" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u56FD\u9645\u5316</h2><blockquote><p>i18n \u82F1\u6587\u5168\u62FC internationalization ,\u56FD\u9645\u5316\u7684\u610F\u601D\uFF0C\u82F1\u6587 i \u548C n \u4E2D\u95F418\u4E2A\u82F1\u6587\u5B57\u6BCD</p></blockquote><p><strong>1. \u5B89\u88C5 vue-i18n</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install vue<span class="token operator">-</span>i18n<span class="token annotation punctuation">@9.1.9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>2. \u8BED\u8A00\u5305</strong></p><p>\u521B\u5EFA src/lang \u8BED\u8A00\u5305\u76EE\u5F55\uFF0C\u4E2D\u6587\u8BED\u8A00\u5305 zh-cn.ts\uFF0C\u82F1\u6587\u8BED\u8A00\u5305 en.ts</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// src/lang/en.ts</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8DEF\u7531\u56FD\u9645\u5316</span>
    route<span class="token operator">:</span> <span class="token punctuation">{</span>
        dashboard<span class="token operator">:</span> <span class="token string">&#39;Dashboard&#39;</span><span class="token punctuation">,</span>
        document<span class="token operator">:</span> <span class="token string">&#39;Document&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u767B\u5F55\u9875\u9762\u56FD\u9645\u5316</span>
    login<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">&#39;youlai-mall management system&#39;</span><span class="token punctuation">,</span>
        username<span class="token operator">:</span> <span class="token string">&#39;Username&#39;</span><span class="token punctuation">,</span>
        password<span class="token operator">:</span> <span class="token string">&#39;Password&#39;</span><span class="token punctuation">,</span>
        login<span class="token operator">:</span> <span class="token string">&#39;Login&#39;</span><span class="token punctuation">,</span>
        code<span class="token operator">:</span> <span class="token string">&#39;Verification Code&#39;</span><span class="token punctuation">,</span>
        copyright<span class="token operator">:</span> <span class="token string">&#39;Copyright \xA9 2020 - 2022 youlai.tech All Rights Reserved. &#39;</span><span class="token punctuation">,</span>
        icp<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5BFC\u822A\u680F\u56FD\u9645\u5316</span>
    navbar<span class="token operator">:</span><span class="token punctuation">{</span>
        dashboard<span class="token operator">:</span> <span class="token string">&#39;Dashboard&#39;</span><span class="token punctuation">,</span>
        logout<span class="token operator">:</span><span class="token string">&#39;Logout&#39;</span><span class="token punctuation">,</span>
        document<span class="token operator">:</span><span class="token string">&#39;Document&#39;</span><span class="token punctuation">,</span>
        gitee<span class="token operator">:</span><span class="token string">&#39;Gitee&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. \u521B\u5EFAi18n\u5B9E\u4F8B</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token comment">// src/lang/index.ts</span>

<span class="token comment">// \u81EA\u5B9A\u4E49\u56FD\u9645\u5316\u914D\u7F6E</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createI18n<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-i18n&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>localStorage<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/storage&#39;</span>

<span class="token comment">// \u672C\u5730\u8BED\u8A00\u5305</span>
<span class="token keyword">import</span> enLocale <span class="token keyword">from</span> <span class="token string">&#39;./en&#39;</span>
<span class="token keyword">import</span> zhCnLocale <span class="token keyword">from</span> <span class="token string">&#39;./zh-cn&#39;</span>

<span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;zh-cn&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>zhCnLocale
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    en<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>enLocale
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u83B7\u53D6\u5F53\u524D\u7CFB\u7EDF\u4F7F\u7528\u8BED\u8A00\u5B57\u7B26\u4E32</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getLanguage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u672C\u5730\u7F13\u5B58\u83B7\u53D6</span>
    <span class="token keyword">let</span> language <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;language&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>language<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> language
    <span class="token punctuation">}</span>
     <span class="token comment">// \u6D4F\u89C8\u5668\u4F7F\u7528\u8BED\u8A00</span>
    language <span class="token operator">=</span> navigator<span class="token punctuation">.</span>language<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> locales <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>messages<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> locale <span class="token keyword">of</span> locales<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>language<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> locale
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">&#39;zh-cn&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token function">createI18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    locale<span class="token operator">:</span> <span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    messages<span class="token operator">:</span> messages
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> i18n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. i18n \u5168\u5C40\u6CE8\u518C</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// main.ts</span>

<span class="token comment">// \u56FD\u9645\u5316</span>
<span class="token keyword">import</span> i18n <span class="token keyword">from</span> <span class="token string">&quot;@/lang/index&quot;</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5. \u9759\u6001\u9875\u9762\u56FD\u9645\u5316</strong></p><blockquote><p>$t \u662F i18n \u63D0\u4F9B\u7684\u6839\u636E key \u4ECE\u8BED\u8A00\u5305\u7FFB\u8BD1\u5BF9\u5E94\u7684 value \u65B9\u6CD5</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&lt;</span>h3 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
  <span class="token punctuation">{</span> $<span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;login.title&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>6. \u52A8\u6001\u8DEF\u7531\u56FD\u9645\u5316</strong></p><blockquote><p>i18n \u5DE5\u5177\u7C7B\uFF0C\u4E3B\u8981\u4F7F\u7528 i18n \u7684 te (\u5224\u65AD\u8BED\u8A00\u5305\u662F\u5426\u5B58\u5728key) \u548C t (\u7FFB\u8BD1) \u4E24\u4E2A\u65B9\u6CD5</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//  src/utils/i18n.ts</span>
<span class="token keyword">import</span> i18n <span class="token keyword">from</span> <span class="token string">&quot;@/lang/index&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">generateTitle</span><span class="token punctuation">(</span>title<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u662F\u5426\u5B58\u5728\u56FD\u9645\u5316\u914D\u7F6E\uFF0C\u5982\u679C\u6CA1\u6709\u539F\u751F\u8FD4\u56DE</span>
    <span class="token keyword">const</span> hasKey <span class="token operator">=</span> i18n<span class="token punctuation">.</span>global<span class="token punctuation">.</span><span class="token function">te</span><span class="token punctuation">(</span><span class="token string">&#39;route.&#39;</span> <span class="token operator">+</span> title<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hasKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> translatedTitle <span class="token operator">=</span> i18n<span class="token punctuation">.</span>global<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;route.&#39;</span> <span class="token operator">+</span> title<span class="token punctuation">)</span>
        <span class="token keyword">return</span> translatedTitle
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> title
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9875\u9762\u4F7F\u7528</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// src/components/Breadcrumb/index.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-else</span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleLink(item)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       {
  { generateTitle(item.meta.title) }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>generateTitle<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/i18n&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="wangeditor\u5BCC\u6587\u672C\u7F16\u8F91\u5668" tabindex="-1"><a class="header-anchor" href="#wangeditor\u5BCC\u6587\u672C\u7F16\u8F91\u5668" aria-hidden="true">#</a> wangEditor\u5BCC\u6587\u672C\u7F16\u8F91\u5668</h2><blockquote><p>\u63A8\u8350\u6559\u7A0B\uFF1A<a href="https://www.wangeditor.com/v5/for-frame.html#vue3" title="Vue3 \u5B98\u65B9\u793A\u4F8B">Vue3 \u5B98\u65B9\u793A\u4F8B</a></p></blockquote><p><strong>1. \u5B89\u88C5wangEditor\u548CVue3\u7EC4\u4EF6</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install <span class="token annotation punctuation">@wangeditor</span><span class="token operator">/</span>editor <span class="token operator">--</span>save
npm install <span class="token annotation punctuation">@wangeditor</span><span class="token operator">/</span>editor<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">-</span>vue<span class="token annotation punctuation">@next</span> <span class="token operator">--</span>save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. wangEditor\u7EC4\u4EF6\u5C01\u88C5</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>
<span class="token comment">&lt;!-- src/components/WangEditor/index.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5DE5\u5177\u680F --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Toolbar</span> <span class="token attr-name">:editor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editorRef<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:defaultConfig</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toolbarConfig<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ccc</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">:mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mode<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- \u7F16\u8F91\u5668 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Editor</span> <span class="token attr-name">:defaultConfig</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>editorConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultHtml<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@onChange</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span> <span class="token property">overflow-y</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">:mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@onCreated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleCreated<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onBeforeUnmount<span class="token punctuation">,</span> shallowRef<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Editor<span class="token punctuation">,</span> Toolbar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@wangeditor/editor-for-vue&#39;</span>

<span class="token comment">// API \u5F15\u7528</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> uploadFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/system/file&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>String<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u7F16\u8F91\u5668\u5B9E\u4F8B\uFF0C\u5FC5\u987B\u7528 shallowRef</span>
<span class="token keyword">const</span> editorRef <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">toolbarConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">editorConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u5185\u5BB9...&#39;</span><span class="token punctuation">,</span>
    <span class="token constant">MENU_CONF</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">uploadImage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u81EA\u5B9A\u4E49\u56FE\u7247\u4E0A\u4F20</span>
        <span class="token keyword">async</span> <span class="token function">customUpload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">file</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">insertFn</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E0A\u4F20\u56FE\u7247&quot;</span><span class="token punctuation">)</span>
          <span class="token function">uploadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> url <span class="token operator">=</span> response<span class="token punctuation">.</span>data
            <span class="token function">insertFn</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">defaultHtml</span><span class="token operator">:</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;default&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> toolbarConfig<span class="token punctuation">,</span> editorConfig<span class="token punctuation">,</span> defaultHtml<span class="token punctuation">,</span> mode <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>


<span class="token keyword">const</span> <span class="token function-variable function">handleCreated</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">editor</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  editorRef<span class="token punctuation">.</span>value <span class="token operator">=</span> editor <span class="token comment">// \u8BB0\u5F55 editor \u5B9E\u4F8B\uFF0C\u91CD\u8981\uFF01</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">editor</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> editor<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7EC4\u4EF6\u9500\u6BC1\u65F6\uFF0C\u4E5F\u53CA\u65F6\u9500\u6BC1\u7F16\u8F91\u5668</span>
<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> editor <span class="token operator">=</span> editorRef<span class="token punctuation">.</span>value
  <span class="token keyword">if</span> <span class="token punctuation">(</span>editor <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
  editor<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@wangeditor/editor/dist/css/style.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

\u200B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. \u4F7F\u7528\u6848\u4F8B</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;component-container&quot;</span><span class="token operator">&gt;</span>
  	<span class="token operator">&lt;</span>editor v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;modelValue.detail&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;height: 600px&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
	<span class="token keyword">import</span> <span class="token class-name">Editor</span> from <span class="token string">&quot;@/components/WangEditor/index.vue&quot;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

\u200B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>template<span class="token punctuation">&gt;</span></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;component-container&quot;</span><span class="token operator">&gt;</span>
  	<span class="token operator">&lt;</span>editor v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;modelValue.detail&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;height: 600px&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
	<span class="token keyword">import</span> <span class="token class-name">Editor</span> from <span class="token string">&quot;@/components/WangEditor/index.vue&quot;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+f+`" alt="solar"><h2 id="\u56FD\u9645\u5316il8n" tabindex="-1"><a class="header-anchor" href="#\u56FD\u9645\u5316il8n" aria-hidden="true">#</a> \u56FD\u9645\u5316il8n</h2><h3 id="\u5B89\u88C5-vue-i18n" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-vue-i18n" aria-hidden="true">#</a> \u5B89\u88C5 vue-i18n</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i vue-i18n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u65B0\u5EFA-locales-\u6587\u4EF6\u5939" tabindex="-1"><a class="header-anchor" href="#\u65B0\u5EFA-locales-\u6587\u4EF6\u5939" aria-hidden="true">#</a> \u65B0\u5EFA locales \u6587\u4EF6\u5939</h3><p>\u4EE5\u7B80\u4F53\u4E2D\u6587\u548C\u82F1\u6587\u4E3A\u4F8B</p><p><strong>\u5728 src \u4E0B\u65B0\u5EFA locales \u6587\u4EF6\u5939</strong></p><p>\u5728 locales \u6587\u4EF6\u5939\u4E0B\u65B0\u5EFA zh-cn.ts</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export default {
  buttons: {
    login: &#39;\u767B\u5F55&#39;
  },
  menus: {
    home: &#39;\u9996\u9875&#39;
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 locales \u6587\u4EF6\u5939\u4E0B\u65B0\u5EFA en.ts</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export default {
  buttons: {
    login: &#39;Login&#39;
  },
  menus: {
    home: &#39;Home&#39;
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 locales \u6587\u4EF6\u5939\u4E0B\u65B0\u5EFA index.ts</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import { createI18n } from &#39;vue-i18n&#39;
import zhCn from &#39;./zh-cn&#39;
import en from &#39;./en&#39;

// \u521B\u5EFA i18n
const i18n = createI18n({
  legacy: false,
  globalInjection: true, // \u5168\u5C40\u6A21\u5F0F\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 $t
  locale: localStorage.getItem(&#39;lang&#39;) || &#39;zhCn&#39;,
  messages: {
    zhCn,
    en
  }
})

export default i18n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6CE8\u518C-i18n" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u518C-i18n" aria-hidden="true">#</a> \u6CE8\u518C i18n</h3><p>\u5728 main.ts \u6587\u4EF6\u4E0B\u6CE8\u518C i18n</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import { createApp } from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import i18n from &#39;./locales&#39;

const app = createApp(App)

app.use(i18n)

app.mount(&#39;#app&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u6CD5</h3><p><strong>\u5728 template \u4E2D\u7684\u4F7F\u7528</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{{ $t(&#39;menus.home&#39;) }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5728 ts \u4E2D\u7684\u4F7F\u7528</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import i18n from &#39;./locales&#39;

console.log(i18n.global.t(&#39;menus.home&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Element Plus \u56FD\u9645\u5316</strong></p><p>Element Plus \u5B98\u65B9\u63D0\u4F9B\u4E86\u4E00\u4E2A Vue \u7EC4\u4EF6 ConfigProvider \u7528\u4E8E\u5168\u5C40\u914D\u7F6E\u56FD\u9645\u5316\u7684\u8BBE\u7F6E el-config-provider \u7531 Element Plus \u6309\u9700\u5F15\u5165 - \u81EA\u52A8\u5BFC\u5165 el-config-provider \u624B\u52A8\u5BFC\u5165\uFF1Aimport { ElConfigProvider } from &#39;element-plus&#39;</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;
  &lt;el-config-provider :locale=&quot;useAppStoreHook().locale === &#39;zhCn&#39; ? zhCn : en&quot;&gt;
    &lt;app /&gt;
  &lt;/el-config-provider&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot; setup&gt;
import zhCn from &#39;element-plus/lib/locale/lang/zh-cn&#39;
import en from &#39;element-plus/lib/locale/lang/en&#39;
import { useAppStoreHook } from &#39;@/store/modules/app&#39; //store\u5B58\u653E\u8BED\u8A00\u914D\u7F6E
&lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u8BED\u8A00\u5207\u6362</strong> \u5207\u6362\u8BED\u8A00\u65F6\uFF0C\u4FEE\u6539 store \u3001 localstorage \u548C i18n \u4E2D\u7684\u8BED\u8A00\u914D\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// store/modules/app

import { defineStore } from &#39;pinia&#39;
import { store } from &#39;@/store&#39;
import i18n from &#39;@/locales&#39;

const useAppStore = defineStore(&#39;app&#39;, {
  state: () =&gt; {
    return {
      locale: localStorage.getItem(&#39;lang&#39;) || &#39;zhCn&#39;
    }
  },
  actions: {
    SET_LOCALE(locale: string) { //\u8BED\u8A00\u5207\u6362
      this.locale = locale
      storageLocal.setItem(&#39;lang&#39;, locale)
      i18n.global.locale.value = locale
    }
  }
})

export function useAppStoreHook() {
  return useAppStore(store)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="echarts\u56FE\u8868" tabindex="-1"><a class="header-anchor" href="#echarts\u56FE\u8868" aria-hidden="true">#</a> Echarts\u56FE\u8868</h2><p><strong>1. \u5B89\u88C5 Echarts</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>npm install echarts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>2. Echarts \u81EA\u9002\u5E94\u5927\u5C0F\u5DE5\u5177\u7C7B</strong></p><blockquote><p>\u4FA7\u8FB9\u680F\u3001\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\u5207\u6362\u90FD\u4F1A\u89E6\u53D1\u56FE\u8868\u7684 resize() \u65B9\u6CD5\u6765\u8FDB\u884C\u81EA\u9002\u5E94</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token comment">// src/utils/resize.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> sidebarElm <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">chartResizeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>chart<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            chart<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">sidebarResizeHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> TransitionEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>propertyName <span class="token operator">===</span> <span class="token string">&#39;width&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">chartResizeHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">initResizeEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> chartResizeHandler<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">destroyResizeEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> chartResizeHandler<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">initSidebarResizeEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        sidebarElm<span class="token punctuation">.</span>value <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&#39;sidebar-container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sidebarElm<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sidebarElm<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;transitionend&#39;</span><span class="token punctuation">,</span> sidebarResizeHandler <span class="token keyword">as</span> EventListener<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">destroySidebarResizeEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sidebarElm<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sidebarElm<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;transitionend&#39;</span><span class="token punctuation">,</span> sidebarResizeHandler <span class="token keyword">as</span> EventListener<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">mounted</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">initResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">initSidebarResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">beforeDestroy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">destroyResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">destroySidebarResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">activated</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">initResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">initSidebarResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">deactivated</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">destroyResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">destroySidebarResizeEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        chart<span class="token punctuation">,</span>
        mounted<span class="token punctuation">,</span>
        beforeDestroy<span class="token punctuation">,</span>
        activated<span class="token punctuation">,</span>
        deactivated
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

\u200B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. Echarts\u4F7F\u7528</strong></p>`,63),mn=s("\u5B98\u65B9\u793A\u4F8B\uFF1A "),bn={href:"https://echarts.apache.org/examples/zh/index.html",target:"_blank",rel:"noopener noreferrer"},gn=s("https://echarts.apache.org/examples/zh/index.html"),yn=p(`<p>\u5B98\u65B9\u7684\u793A\u4F8B\u6587\u6863\u4E30\u5BCC\u548C\u8BE6\u7EC6\uFF0C\u4E14\u6DB5\u76D6\u4E86 JavaScript \u548C TypeScript \u7248\u672C\uFF0C\u4F7F\u7528\u975E\u5E38\u7B80\u5355\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>
<span class="token comment">&lt;!-- src/views/dashboard/components/Chart/BarChart.vue --&gt;</span> 
<span class="token comment">&lt;!-- \u7EBF + \u67F1\u6DF7\u5408\u56FE --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>className<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{height, width}<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>nextTick<span class="token punctuation">,</span> onActivated<span class="token punctuation">,</span> onBeforeUnmount<span class="token punctuation">,</span> onDeactivated<span class="token punctuation">,</span> onMounted<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>init<span class="token punctuation">,</span> EChartsOption<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> resize <span class="token keyword">from</span> <span class="token string">&#39;@/utils/resize&#39;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;barChart&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;200px&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;200px&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span>
  mounted<span class="token punctuation">,</span>
  chart<span class="token punctuation">,</span>
  beforeDestroy<span class="token punctuation">,</span>
  activated<span class="token punctuation">,</span>
  deactivated
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">initChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> barChart <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">)</span>

  barChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u4E1A\u7EE9\u603B\u89C8(2021\u5E74)&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token literal-property property">textStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontStyle</span><span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">&#39;bold&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#337ecc&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">grid</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">&#39;2%&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">&#39;2%&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">&#39;10%&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">containLabel</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&#39;axis&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;cross&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">crossStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#999&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token string">&#39;bottom&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;\u6536\u5165&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6BDB\u5229\u6DA6&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6536\u5165\u589E\u957F\u7387&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5229\u6DA6\u589E\u957F\u7387&#39;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;category&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;\u4E0A\u6D77&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5317\u4EAC&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6D59\u6C5F&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5E7F\u4E1C&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6DF1\u5733&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u56DB\u5DDD&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6E56\u5317&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5B89\u5FBD&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">axisPointer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;shadow&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">formatter</span><span class="token operator">:</span> <span class="token string">&#39;{value} &#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token literal-property property">axisLabel</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">formatter</span><span class="token operator">:</span> <span class="token string">&#39;{value}%&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u6536\u5165&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">8000</span><span class="token punctuation">,</span> <span class="token number">8200</span><span class="token punctuation">,</span> <span class="token number">7000</span><span class="token punctuation">,</span> <span class="token number">6200</span><span class="token punctuation">,</span> <span class="token number">6500</span><span class="token punctuation">,</span> <span class="token number">5500</span><span class="token punctuation">,</span> <span class="token number">4500</span><span class="token punctuation">,</span> <span class="token number">4200</span><span class="token punctuation">,</span> <span class="token number">3800</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">barWidth</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#83bff6&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#188df0&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#188df0&#39;</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u6BDB\u5229\u6DA6&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">6700</span><span class="token punctuation">,</span> <span class="token number">6800</span><span class="token punctuation">,</span> <span class="token number">6300</span><span class="token punctuation">,</span> <span class="token number">5213</span><span class="token punctuation">,</span> <span class="token number">4500</span><span class="token punctuation">,</span> <span class="token number">4200</span><span class="token punctuation">,</span> <span class="token number">4200</span><span class="token punctuation">,</span> <span class="token number">3800</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">barWidth</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#25d73c&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#1bc23d&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#179e61&#39;</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u6536\u5165\u589E\u957F\u7387&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;line&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">yAxisIndex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#67C23A&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u5229\u6DA6\u589E\u957F\u7387&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;line&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">yAxisIndex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">45</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">itemStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#409EFF&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token keyword">as</span> EChartsOption<span class="token punctuation">)</span>
  chart<span class="token punctuation">.</span>value <span class="token operator">=</span> barChart
<span class="token punctuation">}</span>

<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">onActivated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">onDeactivated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">initChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

\u200B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+h+'" alt="solar">',3);function fn(hn,wn){const a=o("ExternalLinkIcon");return c(),l("div",null,[q,x,_,E,n("p",null,[j,n("a",P,[A,t(a)])]),I,n("p",null,[R,n("a",S,[C,t(a)])]),T,V,z,N,L,H,n("p",null,[O,n("a",B,[M,t(a)])]),D,n("p",null,[U,n("a",W,[F,t(a)])]),G,n("blockquote",null,[n("p",null,[J,n("a",Q,[K,t(a)])])]),X,n("blockquote",null,[n("p",null,[Y,$,n("a",Z,[nn,t(a)])])]),n("p",null,[sn,n("a",an,[tn,t(a)]),pn]),en,n("blockquote",null,[n("p",null,[on,n("a",cn,[ln,t(a)])])]),un,n("blockquote",null,[n("p",null,[rn,n("a",kn,[dn,t(a)])])]),vn,n("blockquote",null,[n("p",null,[mn,n("a",bn,[gn,t(a)])])]),yn])}var _n=e(w,[["render",fn],["__file","Element-Plus.html.vue"]]);export{_n as default};
